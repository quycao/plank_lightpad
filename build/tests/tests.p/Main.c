/* Main.c generated by valac 0.48.17, the Vala compiler
 * generated from Main.vala, do not modify */

/**/
/*  Copyright (C) 2013 Rico Tzschichholz*/
/**/
/*  This file is part of Plank.*/
/**/
/*  Plank is free software: you can redistribute it and/or modify*/
/*  it under the terms of the GNU General Public License as published by*/
/*  the Free Software Foundation, either version 3 of the License, or*/
/*  (at your option) any later version.*/
/**/
/*  Plank is distributed in the hope that it will be useful,*/
/*  but WITHOUT ANY WARRANTY; without even the implied warranty of*/
/*  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the*/
/*  GNU General Public License for more details.*/
/**/
/*  You should have received a copy of the GNU General Public License*/
/*  along with this program.  If not, see <http://www.gnu.org/licenses/>.*/
/**/

#include <stdlib.h>
#include <string.h>
#include <glib.h>
#include "test-config.h"
#include <gtk/gtk.h>
#include "plank.h"
#include <gdk/gdk.h>

typedef struct _Block1Data Block1Data;
#define _g_main_loop_unref0(var) ((var == NULL) ? NULL : (var = (g_main_loop_unref (var), NULL)))

struct _Block1Data {
	int _ref_count_;
	GMainLoop* main_loop;
};

#define PLANK_TESTS_TEST_ICON DATA_DIR "/test-icon.svg"
#define PLANK_TESTS_TEST_DOCK_NAME "test1"
#define PLANK_TESTS_IO_WAIT_MS ((guint) 1500)
#define PLANK_TESTS_EVENT_WAIT_MS ((guint) 100)
#define PLANK_TESTS_X_WAIT_MS ((guint) 200)
gint plank_tests_main (gchar** args,
                       gint args_length1);
void plank_tests_register_drawing_tests (void);
void plank_tests_register_items_tests (void);
void plank_tests_register_preferences_tests (void);
void plank_tests_register_widgets_tests (void);
G_GNUC_INTERNAL void plank_tests_wait (guint milliseconds);
static Block1Data* block1_data_ref (Block1Data* _data1_);
static void block1_data_unref (void * _userdata_);
static gboolean __lambda4_ (Block1Data* _data1_);
static gboolean ___lambda4__gsource_func (gpointer self);

gint
plank_tests_main (gchar** args,
                  gint args_length1)
{
	gint result = 0;
#line 32 "../tests/Main.vala"
	g_test_init ((gint*) (&args_length1), &args, NULL);
#line 34 "../tests/Main.vala"
	gtk_init ((gint*) (&args_length1), &args);
#line 36 "../tests/Main.vala"
	g_log_set_always_fatal (G_LOG_LEVEL_ERROR | G_LOG_LEVEL_CRITICAL);
#line 38 "../tests/Main.vala"
	plank_paths_initialize ("test", DATA_DIR);
#line 41 "../tests/Main.vala"
	plank_tests_register_drawing_tests ();
#line 42 "../tests/Main.vala"
	plank_tests_register_items_tests ();
#line 43 "../tests/Main.vala"
	plank_tests_register_preferences_tests ();
#line 44 "../tests/Main.vala"
	plank_tests_register_widgets_tests ();
#line 55 "../tests/Main.vala"
	result = g_test_run ();
#line 55 "../tests/Main.vala"
	return result;
#line 82 "Main.c"
}

int
main (int argc,
      char ** argv)
{
#line 30 "../tests/Main.vala"
	return plank_tests_main (argv, argc);
#line 91 "Main.c"
}

static Block1Data*
block1_data_ref (Block1Data* _data1_)
{
#line 58 "../tests/Main.vala"
	g_atomic_int_inc (&_data1_->_ref_count_);
#line 58 "../tests/Main.vala"
	return _data1_;
#line 101 "Main.c"
}

static void
block1_data_unref (void * _userdata_)
{
	Block1Data* _data1_;
	_data1_ = (Block1Data*) _userdata_;
#line 58 "../tests/Main.vala"
	if (g_atomic_int_dec_and_test (&_data1_->_ref_count_)) {
#line 58 "../tests/Main.vala"
		_g_main_loop_unref0 (_data1_->main_loop);
#line 58 "../tests/Main.vala"
		g_slice_free (Block1Data, _data1_);
#line 115 "Main.c"
	}
}

static gboolean
__lambda4_ (Block1Data* _data1_)
{
	gboolean result = FALSE;
#line 63 "../tests/Main.vala"
	g_main_loop_quit (_data1_->main_loop);
#line 64 "../tests/Main.vala"
	result = FALSE;
#line 64 "../tests/Main.vala"
	return result;
#line 129 "Main.c"
}

static gboolean
___lambda4__gsource_func (gpointer self)
{
	gboolean result;
	result = __lambda4_ (self);
#line 62 "../tests/Main.vala"
	return result;
#line 139 "Main.c"
}

G_GNUC_INTERNAL void
plank_tests_wait (guint milliseconds)
{
	Block1Data* _data1_;
	GMainLoop* _tmp0_;
#line 58 "../tests/Main.vala"
	_data1_ = g_slice_new0 (Block1Data);
#line 58 "../tests/Main.vala"
	_data1_->_ref_count_ = 1;
#line 60 "../tests/Main.vala"
	_tmp0_ = g_main_loop_new (NULL, FALSE);
#line 60 "../tests/Main.vala"
	_data1_->main_loop = _tmp0_;
#line 62 "../tests/Main.vala"
	gdk_threads_add_timeout (milliseconds, ___lambda4__gsource_func, _data1_);
#line 67 "../tests/Main.vala"
	g_main_loop_run (_data1_->main_loop);
#line 58 "../tests/Main.vala"
	block1_data_unref (_data1_);
#line 58 "../tests/Main.vala"
	_data1_ = NULL;
#line 163 "Main.c"
}

