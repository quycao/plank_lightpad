/* DesktopDockItem.c generated by valac 0.48.17, the Vala compiler
 * generated from DesktopDockItem.vala, do not modify */

/**/
/*  Copyright (C) 2015 Rico Tzschichholz*/
/**/
/*  This file is part of Plank.*/
/**/
/*  Plank is free software: you can redistribute it and/or modify*/
/*  it under the terms of the GNU General Public License as published by*/
/*  the Free Software Foundation, either version 3 of the License, or*/
/*  (at your option) any later version.*/
/**/
/*  Plank is distributed in the hope that it will be useful,*/
/*  but WITHOUT ANY WARRANTY; without even the implied warranty of*/
/*  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the*/
/*  GNU General Public License for more details.*/
/**/
/*  You should have received a copy of the GNU General Public License*/
/*  along with this program.  If not, see <http://www.gnu.org/licenses/>.*/
/**/

#include "plank.h"
#include <glib-object.h>
#include <gdk/gdk.h>
#include <glib.h>
#include <gio/gio.h>
#include <libwnck/libwnck.h>
#include <stdlib.h>
#include <string.h>
#include <glib/gi18n-lib.h>

#define DOCKY_TYPE_DESKTOP_DOCK_ITEM (docky_desktop_dock_item_get_type ())
#define DOCKY_DESKTOP_DOCK_ITEM(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), DOCKY_TYPE_DESKTOP_DOCK_ITEM, DockyDesktopDockItem))
#define DOCKY_DESKTOP_DOCK_ITEM_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), DOCKY_TYPE_DESKTOP_DOCK_ITEM, DockyDesktopDockItemClass))
#define DOCKY_IS_DESKTOP_DOCK_ITEM(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), DOCKY_TYPE_DESKTOP_DOCK_ITEM))
#define DOCKY_IS_DESKTOP_DOCK_ITEM_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), DOCKY_TYPE_DESKTOP_DOCK_ITEM))
#define DOCKY_DESKTOP_DOCK_ITEM_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), DOCKY_TYPE_DESKTOP_DOCK_ITEM, DockyDesktopDockItemClass))

typedef struct _DockyDesktopDockItem DockyDesktopDockItem;
typedef struct _DockyDesktopDockItemClass DockyDesktopDockItemClass;
typedef struct _DockyDesktopDockItemPrivate DockyDesktopDockItemPrivate;
enum  {
	DOCKY_DESKTOP_DOCK_ITEM_0_PROPERTY,
	DOCKY_DESKTOP_DOCK_ITEM_NUM_PROPERTIES
};
static GParamSpec* docky_desktop_dock_item_properties[DOCKY_DESKTOP_DOCK_ITEM_NUM_PROPERTIES];
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))

struct _DockyDesktopDockItem {
	PlankDockletItem parent_instance;
	DockyDesktopDockItemPrivate * priv;
};

struct _DockyDesktopDockItemClass {
	PlankDockletItemClass parent_class;
};

static gpointer docky_desktop_dock_item_parent_class = NULL;

GType docky_desktop_dock_item_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (DockyDesktopDockItem, g_object_unref)
DockyDesktopDockItem* docky_desktop_dock_item_new_with_dockitem_file (GFile* file);
DockyDesktopDockItem* docky_desktop_dock_item_construct_with_dockitem_file (GType object_type,
                                                                            GFile* file);
static PlankAnimationType docky_desktop_dock_item_real_on_clicked (PlankDockElement* base,
                                                            PlankPopupButton button,
                                                            GdkModifierType mod,
                                                            guint32 event_time);
DockyDesktopDockItem* docky_desktop_dock_item_new (void);
DockyDesktopDockItem* docky_desktop_dock_item_construct (GType object_type);
static GObject * docky_desktop_dock_item_constructor (GType type,
                                               guint n_construct_properties,
                                               GObjectConstructParam * construct_properties);
#define DOCKY_G_RESOURCE_PATH "/net/launchpad/plank/docklets/desktop"
static void docky_desktop_dock_item_finalize (GObject * obj);
static GType docky_desktop_dock_item_get_type_once (void);

/**
 * {@inheritDoc}
 */
DockyDesktopDockItem*
docky_desktop_dock_item_construct_with_dockitem_file (GType object_type,
                                                      GFile* file)
{
	DockyDesktopDockItem * self = NULL;
	PlankDockItemPreferences* _tmp0_;
	PlankDockItemPreferences* _tmp1_;
#line 29 "../docklets/Desktop/DesktopDockItem.vala"
	g_return_val_if_fail (file != NULL, NULL);
#line 31 "../docklets/Desktop/DesktopDockItem.vala"
	_tmp0_ = plank_dock_item_preferences_new_with_file (file);
#line 31 "../docklets/Desktop/DesktopDockItem.vala"
	_tmp1_ = _tmp0_;
#line 31 "../docklets/Desktop/DesktopDockItem.vala"
	self = (DockyDesktopDockItem*) g_object_new (object_type, "Prefs", _tmp1_, NULL);
#line 31 "../docklets/Desktop/DesktopDockItem.vala"
	_g_object_unref0 (_tmp1_);
#line 29 "../docklets/Desktop/DesktopDockItem.vala"
	return self;
#line 102 "DesktopDockItem.c"
}

DockyDesktopDockItem*
docky_desktop_dock_item_new_with_dockitem_file (GFile* file)
{
#line 29 "../docklets/Desktop/DesktopDockItem.vala"
	return docky_desktop_dock_item_construct_with_dockitem_file (DOCKY_TYPE_DESKTOP_DOCK_ITEM, file);
#line 110 "DesktopDockItem.c"
}

static PlankAnimationType
docky_desktop_dock_item_real_on_clicked (PlankDockElement* base,
                                         PlankPopupButton button,
                                         GdkModifierType mod,
                                         guint32 event_time)
{
	DockyDesktopDockItem * self;
	PlankAnimationType result = 0;
#line 44 "../docklets/Desktop/DesktopDockItem.vala"
	self = (DockyDesktopDockItem*) base;
#line 46 "../docklets/Desktop/DesktopDockItem.vala"
	if (button == PLANK_POPUP_BUTTON_LEFT) {
#line 125 "DesktopDockItem.c"
		WnckScreen* screen = NULL;
		WnckScreen* _tmp0_;
		WnckScreen* _tmp1_;
		WnckScreen* _tmp2_;
#line 47 "../docklets/Desktop/DesktopDockItem.vala"
		_tmp0_ = wnck_screen_get_default ();
#line 47 "../docklets/Desktop/DesktopDockItem.vala"
		screen = _tmp0_;
#line 48 "../docklets/Desktop/DesktopDockItem.vala"
		_tmp1_ = screen;
#line 48 "../docklets/Desktop/DesktopDockItem.vala"
		_tmp2_ = screen;
#line 48 "../docklets/Desktop/DesktopDockItem.vala"
		wnck_screen_toggle_showing_desktop (_tmp1_, !wnck_screen_get_showing_desktop (_tmp2_));
#line 49 "../docklets/Desktop/DesktopDockItem.vala"
		result = PLANK_ANIMATION_TYPE_BOUNCE;
#line 49 "../docklets/Desktop/DesktopDockItem.vala"
		return result;
#line 144 "DesktopDockItem.c"
	}
#line 52 "../docklets/Desktop/DesktopDockItem.vala"
	result = PLANK_ANIMATION_TYPE_NONE;
#line 52 "../docklets/Desktop/DesktopDockItem.vala"
	return result;
#line 150 "DesktopDockItem.c"
}

DockyDesktopDockItem*
docky_desktop_dock_item_construct (GType object_type)
{
	DockyDesktopDockItem * self = NULL;
#line 24 "../docklets/Desktop/DesktopDockItem.vala"
	self = (DockyDesktopDockItem*) plank_docklet_item_construct (object_type);
#line 24 "../docklets/Desktop/DesktopDockItem.vala"
	return self;
#line 161 "DesktopDockItem.c"
}

DockyDesktopDockItem*
docky_desktop_dock_item_new (void)
{
#line 24 "../docklets/Desktop/DesktopDockItem.vala"
	return docky_desktop_dock_item_construct (DOCKY_TYPE_DESKTOP_DOCK_ITEM);
#line 169 "DesktopDockItem.c"
}

static GObject *
docky_desktop_dock_item_constructor (GType type,
                                     guint n_construct_properties,
                                     GObjectConstructParam * construct_properties)
{
	GObject * obj;
	GObjectClass * parent_class;
	DockyDesktopDockItem * self;
#line 34 "../docklets/Desktop/DesktopDockItem.vala"
	parent_class = G_OBJECT_CLASS (docky_desktop_dock_item_parent_class);
#line 34 "../docklets/Desktop/DesktopDockItem.vala"
	obj = parent_class->constructor (type, n_construct_properties, construct_properties);
#line 34 "../docklets/Desktop/DesktopDockItem.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, DOCKY_TYPE_DESKTOP_DOCK_ITEM, DockyDesktopDockItem);
#line 36 "../docklets/Desktop/DesktopDockItem.vala"
	plank_dock_item_set_Icon ((PlankDockItem*) self, "show-desktop;;resource://" DOCKY_G_RESOURCE_PATH "/icons/show-desktop.svg");
#line 37 "../docklets/Desktop/DesktopDockItem.vala"
	plank_dock_element_set_Text ((PlankDockElement*) self, _ ("Show Desktop"));
#line 34 "../docklets/Desktop/DesktopDockItem.vala"
	return obj;
#line 192 "DesktopDockItem.c"
}

static void
docky_desktop_dock_item_class_init (DockyDesktopDockItemClass * klass,
                                    gpointer klass_data)
{
#line 24 "../docklets/Desktop/DesktopDockItem.vala"
	docky_desktop_dock_item_parent_class = g_type_class_peek_parent (klass);
#line 24 "../docklets/Desktop/DesktopDockItem.vala"
	((PlankDockElementClass *) klass)->on_clicked = (PlankAnimationType (*) (PlankDockElement*, PlankPopupButton, GdkModifierType, guint32)) docky_desktop_dock_item_real_on_clicked;
#line 24 "../docklets/Desktop/DesktopDockItem.vala"
	G_OBJECT_CLASS (klass)->constructor = docky_desktop_dock_item_constructor;
#line 24 "../docklets/Desktop/DesktopDockItem.vala"
	G_OBJECT_CLASS (klass)->finalize = docky_desktop_dock_item_finalize;
#line 207 "DesktopDockItem.c"
}

static void
docky_desktop_dock_item_instance_init (DockyDesktopDockItem * self,
                                       gpointer klass)
{
}

static void
docky_desktop_dock_item_finalize (GObject * obj)
{
	DockyDesktopDockItem * self;
#line 24 "../docklets/Desktop/DesktopDockItem.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, DOCKY_TYPE_DESKTOP_DOCK_ITEM, DockyDesktopDockItem);
#line 24 "../docklets/Desktop/DesktopDockItem.vala"
	G_OBJECT_CLASS (docky_desktop_dock_item_parent_class)->finalize (obj);
#line 224 "DesktopDockItem.c"
}

static GType
docky_desktop_dock_item_get_type_once (void)
{
	static const GTypeInfo g_define_type_info = { sizeof (DockyDesktopDockItemClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) docky_desktop_dock_item_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (DockyDesktopDockItem), 0, (GInstanceInitFunc) docky_desktop_dock_item_instance_init, NULL };
	GType docky_desktop_dock_item_type_id;
	docky_desktop_dock_item_type_id = g_type_register_static (PLANK_TYPE_DOCKLET_ITEM, "DockyDesktopDockItem", &g_define_type_info, 0);
	return docky_desktop_dock_item_type_id;
}

GType
docky_desktop_dock_item_get_type (void)
{
	static volatile gsize docky_desktop_dock_item_type_id__volatile = 0;
	if (g_once_init_enter (&docky_desktop_dock_item_type_id__volatile)) {
		GType docky_desktop_dock_item_type_id;
		docky_desktop_dock_item_type_id = docky_desktop_dock_item_get_type_once ();
		g_once_init_leave (&docky_desktop_dock_item_type_id__volatile, docky_desktop_dock_item_type_id);
	}
	return docky_desktop_dock_item_type_id__volatile;
}

