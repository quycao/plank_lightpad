/* Indicators.c generated by valac 0.48.17, the Vala compiler
 * generated from Indicators.vala, do not modify */

/*
* Copyright (c) 2011-2020 LightPad
*
* This program is free software; you can redistribute it and/or
* modify it under the terms of the GNU General Public
* License as published by the Free Software Foundation; either
* version 2 of the License, or (at your option) any later version.
*
* This program is distributed in the hope that it will be useful,
* but WITHOUT ANY WARRANTY; without even the implied warranty of
* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
* General Public License for more details.
*
* You should have received a copy of the GNU General Public
* License along with this program; if not, write to the
* Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
* Boston, MA 02110-1301 USA
*
* Authored by: Juan Pablo Lozano <libredeb@gmail.com>
*/

#include <gtk/gtk.h>
#include <glib-object.h>
#include <glib.h>
#include <stdlib.h>
#include <string.h>
#include <cairo-gobject.h>
#include <gdk/gdk.h>
#include <math.h>
#include <float.h>

#define LIGHT_PAD_FRONTEND_TYPE_INDICATORS (light_pad_frontend_indicators_get_type ())
#define LIGHT_PAD_FRONTEND_INDICATORS(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), LIGHT_PAD_FRONTEND_TYPE_INDICATORS, LightPadFrontendIndicators))
#define LIGHT_PAD_FRONTEND_INDICATORS_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), LIGHT_PAD_FRONTEND_TYPE_INDICATORS, LightPadFrontendIndicatorsClass))
#define LIGHT_PAD_FRONTEND_IS_INDICATORS(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), LIGHT_PAD_FRONTEND_TYPE_INDICATORS))
#define LIGHT_PAD_FRONTEND_IS_INDICATORS_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), LIGHT_PAD_FRONTEND_TYPE_INDICATORS))
#define LIGHT_PAD_FRONTEND_INDICATORS_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), LIGHT_PAD_FRONTEND_TYPE_INDICATORS, LightPadFrontendIndicatorsClass))

typedef struct _LightPadFrontendIndicators LightPadFrontendIndicators;
typedef struct _LightPadFrontendIndicatorsClass LightPadFrontendIndicatorsClass;
typedef struct _LightPadFrontendIndicatorsPrivate LightPadFrontendIndicatorsPrivate;
enum  {
	LIGHT_PAD_FRONTEND_INDICATORS_0_PROPERTY,
	LIGHT_PAD_FRONTEND_INDICATORS_NUM_PROPERTIES
};
static GParamSpec* light_pad_frontend_indicators_properties[LIGHT_PAD_FRONTEND_INDICATORS_NUM_PROPERTIES];
typedef struct _Block3Data Block3Data;
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _cairo_destroy0(var) ((var == NULL) ? NULL : (var = (cairo_destroy (var), NULL)))
enum  {
	LIGHT_PAD_FRONTEND_INDICATORS_CHILD_ACTIVATED_SIGNAL,
	LIGHT_PAD_FRONTEND_INDICATORS_NUM_SIGNALS
};
static guint light_pad_frontend_indicators_signals[LIGHT_PAD_FRONTEND_INDICATORS_NUM_SIGNALS] = {0};

struct _LightPadFrontendIndicators {
	GtkHBox parent_instance;
	LightPadFrontendIndicatorsPrivate * priv;
	GList* children;
	gint active;
};

struct _LightPadFrontendIndicatorsClass {
	GtkHBoxClass parent_class;
};

struct _LightPadFrontendIndicatorsPrivate {
	gint animation_duration;
	gint animation_frames;
	gint current_frame;
	guint animation_loop_id;
	gboolean animation_active;
	gint old_active;
	gint skip_flag;
};

struct _Block3Data {
	int _ref_count_;
	LightPadFrontendIndicators* self;
	GtkEventBox* indicator;
};

static gint LightPadFrontendIndicators_private_offset;
static gpointer light_pad_frontend_indicators_parent_class = NULL;

GType light_pad_frontend_indicators_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (LightPadFrontendIndicators, g_object_unref)
#define LIGHT_PAD_FRONTEND_INDICATORS_FPS 60
static void _g_object_unref0_ (gpointer var);
static inline void _g_list_free__g_object_unref0_ (GList* self);
LightPadFrontendIndicators* light_pad_frontend_indicators_new (void);
LightPadFrontendIndicators* light_pad_frontend_indicators_construct (GType object_type);
void light_pad_frontend_indicators_append (LightPadFrontendIndicators* self,
                                           const gchar* thelabel);
static Block3Data* block3_data_ref (Block3Data* _data3_);
static void block3_data_unref (void * _userdata_);
gboolean light_pad_frontend_indicators_draw_background (LightPadFrontendIndicators* self,
                                                        GtkWidget* widget,
                                                        cairo_t* ctx);
static gboolean _light_pad_frontend_indicators_draw_background_gtk_widget_draw (GtkWidget* _sender,
                                                                         cairo_t* cr,
                                                                         gpointer self);
static gboolean __lambda4_ (Block3Data* _data3_);
void light_pad_frontend_indicators_set_active (LightPadFrontendIndicators* self,
                                               gint index);
static gboolean ___lambda4__gtk_widget_button_release_event (GtkWidget* _sender,
                                                      GdkEventButton* event,
                                                      gpointer self);
void light_pad_frontend_indicators_set_active_no_signal (LightPadFrontendIndicators* self,
                                                         gint index);
void light_pad_frontend_indicators_change_focus (LightPadFrontendIndicators* self);
static void light_pad_frontend_indicators_end_animation (LightPadFrontendIndicators* self);
static gboolean __lambda5_ (LightPadFrontendIndicators* self);
static gboolean ___lambda5__gsource_func (gpointer self);
static void light_pad_frontend_indicators_finalize (GObject * obj);
static GType light_pad_frontend_indicators_get_type_once (void);

static inline gpointer
light_pad_frontend_indicators_get_instance_private (LightPadFrontendIndicators* self)
{
	return G_STRUCT_MEMBER_P (self, LightPadFrontendIndicators_private_offset);
}

static void
_g_object_unref0_ (gpointer var)
{
#line 38 "../docklets/Lightpad/Widgets/Indicators.vala"
	(var == NULL) ? NULL : (var = (g_object_unref (var), NULL));
#line 133 "Indicators.c"
}

static inline void
_g_list_free__g_object_unref0_ (GList* self)
{
#line 38 "../docklets/Lightpad/Widgets/Indicators.vala"
	g_list_free_full (self, (GDestroyNotify) _g_object_unref0_);
#line 141 "Indicators.c"
}

LightPadFrontendIndicators*
light_pad_frontend_indicators_construct (GType object_type)
{
	LightPadFrontendIndicators * self = NULL;
#line 43 "../docklets/Lightpad/Widgets/Indicators.vala"
	self = (LightPadFrontendIndicators*) g_object_new (object_type, NULL);
#line 44 "../docklets/Lightpad/Widgets/Indicators.vala"
	gtk_box_set_homogeneous ((GtkBox*) self, FALSE);
#line 45 "../docklets/Lightpad/Widgets/Indicators.vala"
	gtk_box_set_spacing ((GtkBox*) self, 0);
#line 43 "../docklets/Lightpad/Widgets/Indicators.vala"
	return self;
#line 156 "Indicators.c"
}

LightPadFrontendIndicators*
light_pad_frontend_indicators_new (void)
{
#line 43 "../docklets/Lightpad/Widgets/Indicators.vala"
	return light_pad_frontend_indicators_construct (LIGHT_PAD_FRONTEND_TYPE_INDICATORS);
#line 164 "Indicators.c"
}

static Block3Data*
block3_data_ref (Block3Data* _data3_)
{
#line 48 "../docklets/Lightpad/Widgets/Indicators.vala"
	g_atomic_int_inc (&_data3_->_ref_count_);
#line 48 "../docklets/Lightpad/Widgets/Indicators.vala"
	return _data3_;
#line 174 "Indicators.c"
}

static void
block3_data_unref (void * _userdata_)
{
	Block3Data* _data3_;
	_data3_ = (Block3Data*) _userdata_;
#line 48 "../docklets/Lightpad/Widgets/Indicators.vala"
	if (g_atomic_int_dec_and_test (&_data3_->_ref_count_)) {
#line 184 "Indicators.c"
		LightPadFrontendIndicators* self;
#line 48 "../docklets/Lightpad/Widgets/Indicators.vala"
		self = _data3_->self;
#line 48 "../docklets/Lightpad/Widgets/Indicators.vala"
		_g_object_unref0 (_data3_->indicator);
#line 48 "../docklets/Lightpad/Widgets/Indicators.vala"
		_g_object_unref0 (self);
#line 48 "../docklets/Lightpad/Widgets/Indicators.vala"
		g_slice_free (Block3Data, _data3_);
#line 194 "Indicators.c"
	}
}

static gpointer
_g_object_ref0 (gpointer self)
{
#line 63 "../docklets/Lightpad/Widgets/Indicators.vala"
	return self ? g_object_ref (self) : NULL;
#line 203 "Indicators.c"
}

static gboolean
_light_pad_frontend_indicators_draw_background_gtk_widget_draw (GtkWidget* _sender,
                                                                cairo_t* cr,
                                                                gpointer self)
{
	gboolean result;
	result = light_pad_frontend_indicators_draw_background ((LightPadFrontendIndicators*) self, _sender, cr);
#line 65 "../docklets/Lightpad/Widgets/Indicators.vala"
	return result;
#line 215 "Indicators.c"
}

static gboolean
__lambda4_ (Block3Data* _data3_)
{
	LightPadFrontendIndicators* self;
	GList* _tmp0_;
	gboolean result = FALSE;
#line 66 "../docklets/Lightpad/Widgets/Indicators.vala"
	self = _data3_->self;
#line 67 "../docklets/Lightpad/Widgets/Indicators.vala"
	_tmp0_ = self->children;
#line 67 "../docklets/Lightpad/Widgets/Indicators.vala"
	light_pad_frontend_indicators_set_active (self, g_list_index (_tmp0_, (GtkWidget*) _data3_->indicator));
#line 68 "../docklets/Lightpad/Widgets/Indicators.vala"
	result = TRUE;
#line 68 "../docklets/Lightpad/Widgets/Indicators.vala"
	return result;
#line 234 "Indicators.c"
}

static gboolean
___lambda4__gtk_widget_button_release_event (GtkWidget* _sender,
                                             GdkEventButton* event,
                                             gpointer self)
{
	gboolean result;
	result = __lambda4_ (self);
#line 66 "../docklets/Lightpad/Widgets/Indicators.vala"
	return result;
#line 246 "Indicators.c"
}

void
light_pad_frontend_indicators_append (LightPadFrontendIndicators* self,
                                      const gchar* thelabel)
{
	Block3Data* _data3_;
	GtkEventBox* _tmp0_;
	GtkLabel* label = NULL;
	GtkLabel* _tmp1_;
	GtkStyleContext* _tmp2_;
	GtkWidget* _tmp3_;
#line 48 "../docklets/Lightpad/Widgets/Indicators.vala"
	g_return_if_fail (self != NULL);
#line 48 "../docklets/Lightpad/Widgets/Indicators.vala"
	g_return_if_fail (thelabel != NULL);
#line 48 "../docklets/Lightpad/Widgets/Indicators.vala"
	_data3_ = g_slice_new0 (Block3Data);
#line 48 "../docklets/Lightpad/Widgets/Indicators.vala"
	_data3_->_ref_count_ = 1;
#line 48 "../docklets/Lightpad/Widgets/Indicators.vala"
	_data3_->self = g_object_ref (self);
#line 49 "../docklets/Lightpad/Widgets/Indicators.vala"
	_tmp0_ = (GtkEventBox*) gtk_event_box_new ();
#line 49 "../docklets/Lightpad/Widgets/Indicators.vala"
	g_object_ref_sink (_tmp0_);
#line 49 "../docklets/Lightpad/Widgets/Indicators.vala"
	_data3_->indicator = _tmp0_;
#line 50 "../docklets/Lightpad/Widgets/Indicators.vala"
	gtk_event_box_set_visible_window (_data3_->indicator, FALSE);
#line 52 "../docklets/Lightpad/Widgets/Indicators.vala"
	_tmp1_ = (GtkLabel*) gtk_label_new (thelabel);
#line 52 "../docklets/Lightpad/Widgets/Indicators.vala"
	g_object_ref_sink (_tmp1_);
#line 52 "../docklets/Lightpad/Widgets/Indicators.vala"
	label = _tmp1_;
#line 53 "../docklets/Lightpad/Widgets/Indicators.vala"
	_tmp2_ = gtk_widget_get_style_context ((GtkWidget*) label);
#line 53 "../docklets/Lightpad/Widgets/Indicators.vala"
	gtk_style_context_add_class (_tmp2_, "indicator_label");
#line 56 "../docklets/Lightpad/Widgets/Indicators.vala"
	gtk_widget_set_halign ((GtkWidget*) label, GTK_ALIGN_CENTER);
#line 57 "../docklets/Lightpad/Widgets/Indicators.vala"
	gtk_widget_set_valign ((GtkWidget*) label, GTK_ALIGN_CENTER);
#line 58 "../docklets/Lightpad/Widgets/Indicators.vala"
	gtk_widget_set_margin_top ((GtkWidget*) label, 5);
#line 59 "../docklets/Lightpad/Widgets/Indicators.vala"
	gtk_widget_set_margin_bottom ((GtkWidget*) label, 5);
#line 60 "../docklets/Lightpad/Widgets/Indicators.vala"
	gtk_widget_set_margin_start ((GtkWidget*) label, 15);
#line 61 "../docklets/Lightpad/Widgets/Indicators.vala"
	gtk_widget_set_margin_end ((GtkWidget*) label, 15);
#line 62 "../docklets/Lightpad/Widgets/Indicators.vala"
	gtk_container_add ((GtkContainer*) _data3_->indicator, (GtkWidget*) label);
#line 63 "../docklets/Lightpad/Widgets/Indicators.vala"
	_tmp3_ = _g_object_ref0 ((GtkWidget*) _data3_->indicator);
#line 63 "../docklets/Lightpad/Widgets/Indicators.vala"
	self->children = g_list_append (self->children, _tmp3_);
#line 65 "../docklets/Lightpad/Widgets/Indicators.vala"
	g_signal_connect_object ((GtkWidget*) self, "draw", (GCallback) _light_pad_frontend_indicators_draw_background_gtk_widget_draw, self, 0);
#line 66 "../docklets/Lightpad/Widgets/Indicators.vala"
	g_signal_connect_data ((GtkWidget*) _data3_->indicator, "button-release-event", (GCallback) ___lambda4__gtk_widget_button_release_event, block3_data_ref (_data3_), (GClosureNotify) block3_data_unref, 0);
#line 71 "../docklets/Lightpad/Widgets/Indicators.vala"
	gtk_box_pack_start ((GtkBox*) self, (GtkWidget*) _data3_->indicator, FALSE, FALSE, (guint) 0);
#line 48 "../docklets/Lightpad/Widgets/Indicators.vala"
	_g_object_unref0 (label);
#line 48 "../docklets/Lightpad/Widgets/Indicators.vala"
	block3_data_unref (_data3_);
#line 48 "../docklets/Lightpad/Widgets/Indicators.vala"
	_data3_ = NULL;
#line 317 "Indicators.c"
}

void
light_pad_frontend_indicators_set_active_no_signal (LightPadFrontendIndicators* self,
                                                    gint index)
{
	gint pages_length = 0;
	GList* _tmp0_;
#line 74 "../docklets/Lightpad/Widgets/Indicators.vala"
	g_return_if_fail (self != NULL);
#line 75 "../docklets/Lightpad/Widgets/Indicators.vala"
	_tmp0_ = self->children;
#line 75 "../docklets/Lightpad/Widgets/Indicators.vala"
	pages_length = (gint) g_list_length (_tmp0_);
#line 77 "../docklets/Lightpad/Widgets/Indicators.vala"
	if (index <= (pages_length - 1)) {
#line 78 "../docklets/Lightpad/Widgets/Indicators.vala"
		self->priv->old_active = self->active;
#line 79 "../docklets/Lightpad/Widgets/Indicators.vala"
		self->active = index;
#line 80 "../docklets/Lightpad/Widgets/Indicators.vala"
		light_pad_frontend_indicators_change_focus (self);
#line 340 "Indicators.c"
	}
}

void
light_pad_frontend_indicators_set_active (LightPadFrontendIndicators* self,
                                          gint index)
{
	gint _tmp0_;
#line 85 "../docklets/Lightpad/Widgets/Indicators.vala"
	g_return_if_fail (self != NULL);
#line 86 "../docklets/Lightpad/Widgets/Indicators.vala"
	_tmp0_ = self->priv->skip_flag;
#line 86 "../docklets/Lightpad/Widgets/Indicators.vala"
	self->priv->skip_flag = _tmp0_ + 1;
#line 87 "../docklets/Lightpad/Widgets/Indicators.vala"
	light_pad_frontend_indicators_set_active_no_signal (self, index);
#line 88 "../docklets/Lightpad/Widgets/Indicators.vala"
	if (self->priv->skip_flag > 1) {
#line 89 "../docklets/Lightpad/Widgets/Indicators.vala"
		g_signal_emit (self, light_pad_frontend_indicators_signals[LIGHT_PAD_FRONTEND_INDICATORS_CHILD_ACTIVATED_SIGNAL], 0);
#line 361 "Indicators.c"
	}
}

static gboolean
__lambda5_ (LightPadFrontendIndicators* self)
{
	gint _tmp0_;
	gboolean result = FALSE;
#line 113 "../docklets/Lightpad/Widgets/Indicators.vala"
	if (self->priv->current_frame >= self->priv->animation_frames) {
#line 114 "../docklets/Lightpad/Widgets/Indicators.vala"
		light_pad_frontend_indicators_end_animation (self);
#line 115 "../docklets/Lightpad/Widgets/Indicators.vala"
		result = FALSE;
#line 115 "../docklets/Lightpad/Widgets/Indicators.vala"
		return result;
#line 378 "Indicators.c"
	}
#line 118 "../docklets/Lightpad/Widgets/Indicators.vala"
	_tmp0_ = self->priv->current_frame;
#line 118 "../docklets/Lightpad/Widgets/Indicators.vala"
	self->priv->current_frame = _tmp0_ + 1;
#line 119 "../docklets/Lightpad/Widgets/Indicators.vala"
	gtk_widget_queue_draw ((GtkWidget*) self);
#line 120 "../docklets/Lightpad/Widgets/Indicators.vala"
	result = TRUE;
#line 120 "../docklets/Lightpad/Widgets/Indicators.vala"
	return result;
#line 390 "Indicators.c"
}

static gboolean
___lambda5__gsource_func (gpointer self)
{
	gboolean result;
	result = __lambda5_ ((LightPadFrontendIndicators*) self);
#line 112 "../docklets/Lightpad/Widgets/Indicators.vala"
	return result;
#line 400 "Indicators.c"
}

void
light_pad_frontend_indicators_change_focus (LightPadFrontendIndicators* self)
{
	gint difference = 0;
#line 93 "../docklets/Lightpad/Widgets/Indicators.vala"
	g_return_if_fail (self != NULL);
#line 95 "../docklets/Lightpad/Widgets/Indicators.vala"
	if (self->priv->animation_active) {
#line 96 "../docklets/Lightpad/Widgets/Indicators.vala"
		g_source_remove (self->priv->animation_loop_id);
#line 97 "../docklets/Lightpad/Widgets/Indicators.vala"
		light_pad_frontend_indicators_end_animation (self);
#line 415 "Indicators.c"
	}
#line 102 "../docklets/Lightpad/Widgets/Indicators.vala"
	self->priv->animation_duration = 240;
#line 103 "../docklets/Lightpad/Widgets/Indicators.vala"
	difference = abs (self->priv->old_active - self->active);
#line 104 "../docklets/Lightpad/Widgets/Indicators.vala"
	self->priv->animation_duration = self->priv->animation_duration + ((gint) (pow ((gdouble) difference, 0.5) * 80));
#line 106 "../docklets/Lightpad/Widgets/Indicators.vala"
	self->priv->animation_frames = 2;
#line 109 "../docklets/Lightpad/Widgets/Indicators.vala"
	self->priv->current_frame = 0;
#line 110 "../docklets/Lightpad/Widgets/Indicators.vala"
	self->priv->animation_active = TRUE;
#line 112 "../docklets/Lightpad/Widgets/Indicators.vala"
	self->priv->animation_loop_id = g_timeout_add_full (G_PRIORITY_DEFAULT, (guint) ((gint) (1000 / LIGHT_PAD_FRONTEND_INDICATORS_FPS)), ___lambda5__gsource_func, g_object_ref (self), g_object_unref);
#line 431 "Indicators.c"
}

static void
light_pad_frontend_indicators_end_animation (LightPadFrontendIndicators* self)
{
#line 124 "../docklets/Lightpad/Widgets/Indicators.vala"
	g_return_if_fail (self != NULL);
#line 125 "../docklets/Lightpad/Widgets/Indicators.vala"
	self->priv->animation_active = FALSE;
#line 126 "../docklets/Lightpad/Widgets/Indicators.vala"
	self->priv->current_frame = 0;
#line 443 "Indicators.c"
}

gboolean
light_pad_frontend_indicators_draw_background (LightPadFrontendIndicators* self,
                                               GtkWidget* widget,
                                               cairo_t* ctx)
{
	GtkAllocation size = {0};
	GtkAllocation _tmp0_ = {0};
	cairo_t* context = NULL;
	GdkWindow* _tmp1_;
	cairo_t* _tmp2_;
	gdouble d = 0.0;
	gdouble t = 0.0;
	gdouble progress = 0.0;
	GtkAllocation size_old = {0};
	GtkAllocation size_new = {0};
	GList* _tmp3_;
	GList* _tmp4_;
	gconstpointer _tmp5_;
	GtkAllocation _tmp6_ = {0};
	GList* _tmp7_;
	GList* _tmp8_;
	gconstpointer _tmp9_;
	GtkAllocation _tmp10_ = {0};
	gdouble x = 0.0;
	GtkAllocation _tmp11_;
	GtkAllocation _tmp12_;
	GtkAllocation _tmp13_;
	gdouble y = 0.0;
	GtkAllocation _tmp14_;
	GtkAllocation _tmp15_;
	GtkAllocation _tmp16_;
	gdouble width = 0.0;
	GtkAllocation _tmp17_;
	GtkAllocation _tmp18_;
	GtkAllocation _tmp19_;
	gdouble height = 0.0;
	GtkAllocation _tmp20_;
	GtkAllocation _tmp21_;
	GtkAllocation _tmp22_;
	gdouble offset = 0.0;
	gdouble radius = 0.0;
	GtkAllocation _tmp23_;
	gboolean result = FALSE;
#line 129 "../docklets/Lightpad/Widgets/Indicators.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 129 "../docklets/Lightpad/Widgets/Indicators.vala"
	g_return_val_if_fail (widget != NULL, FALSE);
#line 129 "../docklets/Lightpad/Widgets/Indicators.vala"
	g_return_val_if_fail (ctx != NULL, FALSE);
#line 131 "../docklets/Lightpad/Widgets/Indicators.vala"
	gtk_widget_get_allocation (widget, &_tmp0_);
#line 131 "../docklets/Lightpad/Widgets/Indicators.vala"
	size = _tmp0_;
#line 132 "../docklets/Lightpad/Widgets/Indicators.vala"
	_tmp1_ = gtk_widget_get_window (widget);
#line 132 "../docklets/Lightpad/Widgets/Indicators.vala"
	_tmp2_ = gdk_cairo_create (_tmp1_);
#line 132 "../docklets/Lightpad/Widgets/Indicators.vala"
	context = _tmp2_;
#line 135 "../docklets/Lightpad/Widgets/Indicators.vala"
	d = (gdouble) self->priv->animation_frames;
#line 136 "../docklets/Lightpad/Widgets/Indicators.vala"
	t = (gdouble) self->priv->current_frame;
#line 141 "../docklets/Lightpad/Widgets/Indicators.vala"
	t = (t / d) - 1;
#line 141 "../docklets/Lightpad/Widgets/Indicators.vala"
	progress = ((((t * t) * t) * t) * t) + 1;
#line 145 "../docklets/Lightpad/Widgets/Indicators.vala"
	_tmp3_ = gtk_container_get_children ((GtkContainer*) self);
#line 145 "../docklets/Lightpad/Widgets/Indicators.vala"
	_tmp4_ = _tmp3_;
#line 145 "../docklets/Lightpad/Widgets/Indicators.vala"
	_tmp5_ = g_list_nth_data (_tmp4_, (guint) self->priv->old_active);
#line 145 "../docklets/Lightpad/Widgets/Indicators.vala"
	gtk_widget_get_allocation ((GtkWidget*) _tmp5_, &_tmp6_);
#line 145 "../docklets/Lightpad/Widgets/Indicators.vala"
	size_old = _tmp6_;
#line 145 "../docklets/Lightpad/Widgets/Indicators.vala"
	(_tmp4_ == NULL) ? NULL : (_tmp4_ = (g_list_free (_tmp4_), NULL));
#line 148 "../docklets/Lightpad/Widgets/Indicators.vala"
	_tmp7_ = gtk_container_get_children ((GtkContainer*) self);
#line 148 "../docklets/Lightpad/Widgets/Indicators.vala"
	_tmp8_ = _tmp7_;
#line 148 "../docklets/Lightpad/Widgets/Indicators.vala"
	_tmp9_ = g_list_nth_data (_tmp8_, (guint) self->active);
#line 148 "../docklets/Lightpad/Widgets/Indicators.vala"
	gtk_widget_get_allocation ((GtkWidget*) _tmp9_, &_tmp10_);
#line 148 "../docklets/Lightpad/Widgets/Indicators.vala"
	size_new = _tmp10_;
#line 148 "../docklets/Lightpad/Widgets/Indicators.vala"
	(_tmp8_ == NULL) ? NULL : (_tmp8_ = (g_list_free (_tmp8_), NULL));
#line 151 "../docklets/Lightpad/Widgets/Indicators.vala"
	_tmp11_ = size_old;
#line 151 "../docklets/Lightpad/Widgets/Indicators.vala"
	_tmp12_ = size_new;
#line 151 "../docklets/Lightpad/Widgets/Indicators.vala"
	_tmp13_ = size_old;
#line 151 "../docklets/Lightpad/Widgets/Indicators.vala"
	x = _tmp11_.x + ((_tmp12_.x - ((gdouble) _tmp13_.x)) * progress);
#line 152 "../docklets/Lightpad/Widgets/Indicators.vala"
	_tmp14_ = size_old;
#line 152 "../docklets/Lightpad/Widgets/Indicators.vala"
	_tmp15_ = size_new;
#line 152 "../docklets/Lightpad/Widgets/Indicators.vala"
	_tmp16_ = size_old;
#line 152 "../docklets/Lightpad/Widgets/Indicators.vala"
	y = _tmp14_.y + (_tmp15_.y - ((gdouble) _tmp16_.y));
#line 153 "../docklets/Lightpad/Widgets/Indicators.vala"
	_tmp17_ = size_old;
#line 153 "../docklets/Lightpad/Widgets/Indicators.vala"
	_tmp18_ = size_new;
#line 153 "../docklets/Lightpad/Widgets/Indicators.vala"
	_tmp19_ = size_old;
#line 153 "../docklets/Lightpad/Widgets/Indicators.vala"
	width = _tmp17_.width + ((_tmp18_.width - ((gdouble) _tmp19_.width)) * progress);
#line 154 "../docklets/Lightpad/Widgets/Indicators.vala"
	_tmp20_ = size_old;
#line 154 "../docklets/Lightpad/Widgets/Indicators.vala"
	_tmp21_ = size_new;
#line 154 "../docklets/Lightpad/Widgets/Indicators.vala"
	_tmp22_ = size_old;
#line 154 "../docklets/Lightpad/Widgets/Indicators.vala"
	height = _tmp20_.height + (_tmp21_.height - ((gdouble) _tmp22_.height));
#line 156 "../docklets/Lightpad/Widgets/Indicators.vala"
	offset = 2.0;
#line 157 "../docklets/Lightpad/Widgets/Indicators.vala"
	radius = 6.0;
#line 159 "../docklets/Lightpad/Widgets/Indicators.vala"
	cairo_set_source_rgba (context, 1.0, 1.0, 1.0, 1.0);
#line 160 "../docklets/Lightpad/Widgets/Indicators.vala"
	_tmp23_ = size;
#line 160 "../docklets/Lightpad/Widgets/Indicators.vala"
	cairo_move_to (context, x + radius, _tmp23_.y + offset);
#line 170 "../docklets/Lightpad/Widgets/Indicators.vala"
	cairo_arc (context, x + (width / 2), y + (height / 2), radius, (gdouble) 0, G_PI * 2);
#line 171 "../docklets/Lightpad/Widgets/Indicators.vala"
	cairo_fill (context);
#line 173 "../docklets/Lightpad/Widgets/Indicators.vala"
	result = FALSE;
#line 173 "../docklets/Lightpad/Widgets/Indicators.vala"
	_cairo_destroy0 (context);
#line 173 "../docklets/Lightpad/Widgets/Indicators.vala"
	return result;
#line 589 "Indicators.c"
}

static void
light_pad_frontend_indicators_class_init (LightPadFrontendIndicatorsClass * klass,
                                          gpointer klass_data)
{
#line 24 "../docklets/Lightpad/Widgets/Indicators.vala"
	light_pad_frontend_indicators_parent_class = g_type_class_peek_parent (klass);
#line 24 "../docklets/Lightpad/Widgets/Indicators.vala"
	g_type_class_adjust_private_offset (klass, &LightPadFrontendIndicators_private_offset);
#line 24 "../docklets/Lightpad/Widgets/Indicators.vala"
	G_OBJECT_CLASS (klass)->finalize = light_pad_frontend_indicators_finalize;
#line 24 "../docklets/Lightpad/Widgets/Indicators.vala"
	light_pad_frontend_indicators_signals[LIGHT_PAD_FRONTEND_INDICATORS_CHILD_ACTIVATED_SIGNAL] = g_signal_new ("child-activated", LIGHT_PAD_FRONTEND_TYPE_INDICATORS, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__VOID, G_TYPE_NONE, 0);
#line 604 "Indicators.c"
}

static void
light_pad_frontend_indicators_instance_init (LightPadFrontendIndicators * self,
                                             gpointer klass)
{
#line 24 "../docklets/Lightpad/Widgets/Indicators.vala"
	self->priv = light_pad_frontend_indicators_get_instance_private (self);
#line 30 "../docklets/Lightpad/Widgets/Indicators.vala"
	self->priv->current_frame = 1;
#line 31 "../docklets/Lightpad/Widgets/Indicators.vala"
	self->priv->animation_loop_id = (guint) 0;
#line 32 "../docklets/Lightpad/Widgets/Indicators.vala"
	self->priv->animation_active = FALSE;
#line 39 "../docklets/Lightpad/Widgets/Indicators.vala"
	self->active = -1;
#line 40 "../docklets/Lightpad/Widgets/Indicators.vala"
	self->priv->old_active = -1;
#line 41 "../docklets/Lightpad/Widgets/Indicators.vala"
	self->priv->skip_flag = 0;
#line 625 "Indicators.c"
}

static void
light_pad_frontend_indicators_finalize (GObject * obj)
{
	LightPadFrontendIndicators * self;
#line 24 "../docklets/Lightpad/Widgets/Indicators.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, LIGHT_PAD_FRONTEND_TYPE_INDICATORS, LightPadFrontendIndicators);
#line 38 "../docklets/Lightpad/Widgets/Indicators.vala"
	(self->children == NULL) ? NULL : (self->children = (_g_list_free__g_object_unref0_ (self->children), NULL));
#line 24 "../docklets/Lightpad/Widgets/Indicators.vala"
	G_OBJECT_CLASS (light_pad_frontend_indicators_parent_class)->finalize (obj);
#line 638 "Indicators.c"
}

static GType
light_pad_frontend_indicators_get_type_once (void)
{
	static const GTypeInfo g_define_type_info = { sizeof (LightPadFrontendIndicatorsClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) light_pad_frontend_indicators_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (LightPadFrontendIndicators), 0, (GInstanceInitFunc) light_pad_frontend_indicators_instance_init, NULL };
	GType light_pad_frontend_indicators_type_id;
	light_pad_frontend_indicators_type_id = g_type_register_static (gtk_hbox_get_type (), "LightPadFrontendIndicators", &g_define_type_info, 0);
	LightPadFrontendIndicators_private_offset = g_type_add_instance_private (light_pad_frontend_indicators_type_id, sizeof (LightPadFrontendIndicatorsPrivate));
	return light_pad_frontend_indicators_type_id;
}

GType
light_pad_frontend_indicators_get_type (void)
{
	static volatile gsize light_pad_frontend_indicators_type_id__volatile = 0;
	if (g_once_init_enter (&light_pad_frontend_indicators_type_id__volatile)) {
		GType light_pad_frontend_indicators_type_id;
		light_pad_frontend_indicators_type_id = light_pad_frontend_indicators_get_type_once ();
		g_once_init_leave (&light_pad_frontend_indicators_type_id__volatile, light_pad_frontend_indicators_type_id);
	}
	return light_pad_frontend_indicators_type_id__volatile;
}

