/* DefaultApplicationDockItemProvider.c generated by valac 0.48.17, the Vala compiler
 * generated from DefaultApplicationDockItemProvider.vala, do not modify */

/**/
/*  Copyright (C) 2013 Rico Tzschichholz*/
/**/
/*  This file is part of Plank.*/
/**/
/*  Plank is free software: you can redistribute it and/or modify*/
/*  it under the terms of the GNU General Public License as published by*/
/*  the Free Software Foundation, either version 3 of the License, or*/
/*  (at your option) any later version.*/
/**/
/*  Plank is distributed in the hope that it will be useful,*/
/*  but WITHOUT ANY WARRANTY; without even the implied warranty of*/
/*  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the*/
/*  GNU General Public License for more details.*/
/**/
/*  You should have received a copy of the GNU General Public License*/
/*  along with this program.  If not, see <http://www.gnu.org/licenses/>.*/
/**/

#include <glib-object.h>
#include <gdk/gdk.h>
#include <glib.h>
#include <gee.h>
#include <gtk/gtk.h>
#include <stdlib.h>
#include <string.h>
#include <libbamf/libbamf.h>
#include <gio/gio.h>
#include <libwnck/libwnck.h>
#include "plank-internal.h"

#define PLANK_TYPE_DOCK_ELEMENT (plank_dock_element_get_type ())
#define PLANK_DOCK_ELEMENT(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), PLANK_TYPE_DOCK_ELEMENT, PlankDockElement))
#define PLANK_DOCK_ELEMENT_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), PLANK_TYPE_DOCK_ELEMENT, PlankDockElementClass))
#define PLANK_IS_DOCK_ELEMENT(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), PLANK_TYPE_DOCK_ELEMENT))
#define PLANK_IS_DOCK_ELEMENT_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), PLANK_TYPE_DOCK_ELEMENT))
#define PLANK_DOCK_ELEMENT_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), PLANK_TYPE_DOCK_ELEMENT, PlankDockElementClass))

typedef struct _PlankDockElement PlankDockElement;
typedef struct _PlankDockElementClass PlankDockElementClass;
typedef struct _PlankDockElementPrivate PlankDockElementPrivate;
typedef enum  {
	PLANK_POPUP_BUTTON_NONE = 1 << 0,
	PLANK_POPUP_BUTTON_LEFT = 1 << 1,
	PLANK_POPUP_BUTTON_MIDDLE = 1 << 2,
	PLANK_POPUP_BUTTON_RIGHT = 1 << 3
} PlankPopupButton;

#define PLANK_TYPE_POPUP_BUTTON (plank_popup_button_get_type ())
typedef enum  {
	PLANK_ANIMATION_TYPE_NONE,
	PLANK_ANIMATION_TYPE_BOUNCE,
	PLANK_ANIMATION_TYPE_DARKEN,
	PLANK_ANIMATION_TYPE_LIGHTEN
} PlankAnimationType;

#define PLANK_TYPE_ANIMATION_TYPE (plank_animation_type_get_type ())

#define PLANK_TYPE_DOCK_CONTAINER (plank_dock_container_get_type ())
#define PLANK_DOCK_CONTAINER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), PLANK_TYPE_DOCK_CONTAINER, PlankDockContainer))
#define PLANK_DOCK_CONTAINER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), PLANK_TYPE_DOCK_CONTAINER, PlankDockContainerClass))
#define PLANK_IS_DOCK_CONTAINER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), PLANK_TYPE_DOCK_CONTAINER))
#define PLANK_IS_DOCK_CONTAINER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), PLANK_TYPE_DOCK_CONTAINER))
#define PLANK_DOCK_CONTAINER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), PLANK_TYPE_DOCK_CONTAINER, PlankDockContainerClass))

typedef struct _PlankDockContainer PlankDockContainer;
typedef struct _PlankDockContainerClass PlankDockContainerClass;
typedef struct _PlankDockContainerPrivate PlankDockContainerPrivate;

#define PLANK_TYPE_DOCK_ITEM_PROVIDER (plank_dock_item_provider_get_type ())
#define PLANK_DOCK_ITEM_PROVIDER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), PLANK_TYPE_DOCK_ITEM_PROVIDER, PlankDockItemProvider))
#define PLANK_DOCK_ITEM_PROVIDER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), PLANK_TYPE_DOCK_ITEM_PROVIDER, PlankDockItemProviderClass))
#define PLANK_IS_DOCK_ITEM_PROVIDER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), PLANK_TYPE_DOCK_ITEM_PROVIDER))
#define PLANK_IS_DOCK_ITEM_PROVIDER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), PLANK_TYPE_DOCK_ITEM_PROVIDER))
#define PLANK_DOCK_ITEM_PROVIDER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), PLANK_TYPE_DOCK_ITEM_PROVIDER, PlankDockItemProviderClass))

typedef struct _PlankDockItemProvider PlankDockItemProvider;
typedef struct _PlankDockItemProviderClass PlankDockItemProviderClass;
typedef struct _PlankDockItemProviderPrivate PlankDockItemProviderPrivate;

#define PLANK_TYPE_DOCK_ITEM (plank_dock_item_get_type ())
#define PLANK_DOCK_ITEM(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), PLANK_TYPE_DOCK_ITEM, PlankDockItem))
#define PLANK_DOCK_ITEM_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), PLANK_TYPE_DOCK_ITEM, PlankDockItemClass))
#define PLANK_IS_DOCK_ITEM(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), PLANK_TYPE_DOCK_ITEM))
#define PLANK_IS_DOCK_ITEM_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), PLANK_TYPE_DOCK_ITEM))
#define PLANK_DOCK_ITEM_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), PLANK_TYPE_DOCK_ITEM, PlankDockItemClass))

typedef struct _PlankDockItem PlankDockItem;
typedef struct _PlankDockItemClass PlankDockItemClass;

#define PLANK_TYPE_UNITY_CLIENT (plank_unity_client_get_type ())
#define PLANK_UNITY_CLIENT(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), PLANK_TYPE_UNITY_CLIENT, PlankUnityClient))
#define PLANK_IS_UNITY_CLIENT(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), PLANK_TYPE_UNITY_CLIENT))
#define PLANK_UNITY_CLIENT_GET_INTERFACE(obj) (G_TYPE_INSTANCE_GET_INTERFACE ((obj), PLANK_TYPE_UNITY_CLIENT, PlankUnityClientIface))

typedef struct _PlankUnityClient PlankUnityClient;
typedef struct _PlankUnityClientIface PlankUnityClientIface;

#define PLANK_TYPE_APPLICATION_DOCK_ITEM_PROVIDER (plank_application_dock_item_provider_get_type ())
#define PLANK_APPLICATION_DOCK_ITEM_PROVIDER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), PLANK_TYPE_APPLICATION_DOCK_ITEM_PROVIDER, PlankApplicationDockItemProvider))
#define PLANK_APPLICATION_DOCK_ITEM_PROVIDER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), PLANK_TYPE_APPLICATION_DOCK_ITEM_PROVIDER, PlankApplicationDockItemProviderClass))
#define PLANK_IS_APPLICATION_DOCK_ITEM_PROVIDER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), PLANK_TYPE_APPLICATION_DOCK_ITEM_PROVIDER))
#define PLANK_IS_APPLICATION_DOCK_ITEM_PROVIDER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), PLANK_TYPE_APPLICATION_DOCK_ITEM_PROVIDER))
#define PLANK_APPLICATION_DOCK_ITEM_PROVIDER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), PLANK_TYPE_APPLICATION_DOCK_ITEM_PROVIDER, PlankApplicationDockItemProviderClass))

typedef struct _PlankApplicationDockItemProvider PlankApplicationDockItemProvider;
typedef struct _PlankApplicationDockItemProviderClass PlankApplicationDockItemProviderClass;
typedef struct _PlankApplicationDockItemProviderPrivate PlankApplicationDockItemProviderPrivate;

#define PLANK_TYPE_DEFAULT_APPLICATION_DOCK_ITEM_PROVIDER (plank_default_application_dock_item_provider_get_type ())
#define PLANK_DEFAULT_APPLICATION_DOCK_ITEM_PROVIDER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), PLANK_TYPE_DEFAULT_APPLICATION_DOCK_ITEM_PROVIDER, PlankDefaultApplicationDockItemProvider))
#define PLANK_DEFAULT_APPLICATION_DOCK_ITEM_PROVIDER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), PLANK_TYPE_DEFAULT_APPLICATION_DOCK_ITEM_PROVIDER, PlankDefaultApplicationDockItemProviderClass))
#define PLANK_IS_DEFAULT_APPLICATION_DOCK_ITEM_PROVIDER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), PLANK_TYPE_DEFAULT_APPLICATION_DOCK_ITEM_PROVIDER))
#define PLANK_IS_DEFAULT_APPLICATION_DOCK_ITEM_PROVIDER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), PLANK_TYPE_DEFAULT_APPLICATION_DOCK_ITEM_PROVIDER))
#define PLANK_DEFAULT_APPLICATION_DOCK_ITEM_PROVIDER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), PLANK_TYPE_DEFAULT_APPLICATION_DOCK_ITEM_PROVIDER, PlankDefaultApplicationDockItemProviderClass))

typedef struct _PlankDefaultApplicationDockItemProvider PlankDefaultApplicationDockItemProvider;
typedef struct _PlankDefaultApplicationDockItemProviderClass PlankDefaultApplicationDockItemProviderClass;
typedef struct _PlankDefaultApplicationDockItemProviderPrivate PlankDefaultApplicationDockItemProviderPrivate;

#define PLANK_TYPE_SETTINGS (plank_settings_get_type ())
#define PLANK_SETTINGS(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), PLANK_TYPE_SETTINGS, PlankSettings))
#define PLANK_SETTINGS_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), PLANK_TYPE_SETTINGS, PlankSettingsClass))
#define PLANK_IS_SETTINGS(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), PLANK_TYPE_SETTINGS))
#define PLANK_IS_SETTINGS_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), PLANK_TYPE_SETTINGS))
#define PLANK_SETTINGS_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), PLANK_TYPE_SETTINGS, PlankSettingsClass))

typedef struct _PlankSettings PlankSettings;
typedef struct _PlankSettingsClass PlankSettingsClass;

#define PLANK_TYPE_DOCK_PREFERENCES (plank_dock_preferences_get_type ())
#define PLANK_DOCK_PREFERENCES(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), PLANK_TYPE_DOCK_PREFERENCES, PlankDockPreferences))
#define PLANK_DOCK_PREFERENCES_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), PLANK_TYPE_DOCK_PREFERENCES, PlankDockPreferencesClass))
#define PLANK_IS_DOCK_PREFERENCES(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), PLANK_TYPE_DOCK_PREFERENCES))
#define PLANK_IS_DOCK_PREFERENCES_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), PLANK_TYPE_DOCK_PREFERENCES))
#define PLANK_DOCK_PREFERENCES_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), PLANK_TYPE_DOCK_PREFERENCES, PlankDockPreferencesClass))

typedef struct _PlankDockPreferences PlankDockPreferences;
typedef struct _PlankDockPreferencesClass PlankDockPreferencesClass;
enum  {
	PLANK_DEFAULT_APPLICATION_DOCK_ITEM_PROVIDER_0_PROPERTY,
	PLANK_DEFAULT_APPLICATION_DOCK_ITEM_PROVIDER_PREFS_PROPERTY,
	PLANK_DEFAULT_APPLICATION_DOCK_ITEM_PROVIDER_NUM_PROPERTIES
};
static GParamSpec* plank_default_application_dock_item_provider_properties[PLANK_DEFAULT_APPLICATION_DOCK_ITEM_PROVIDER_NUM_PROPERTIES];
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))

#define PLANK_TYPE_APPLICATION_DOCK_ITEM (plank_application_dock_item_get_type ())
#define PLANK_APPLICATION_DOCK_ITEM(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), PLANK_TYPE_APPLICATION_DOCK_ITEM, PlankApplicationDockItem))
#define PLANK_APPLICATION_DOCK_ITEM_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), PLANK_TYPE_APPLICATION_DOCK_ITEM, PlankApplicationDockItemClass))
#define PLANK_IS_APPLICATION_DOCK_ITEM(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), PLANK_TYPE_APPLICATION_DOCK_ITEM))
#define PLANK_IS_APPLICATION_DOCK_ITEM_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), PLANK_TYPE_APPLICATION_DOCK_ITEM))
#define PLANK_APPLICATION_DOCK_ITEM_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), PLANK_TYPE_APPLICATION_DOCK_ITEM, PlankApplicationDockItemClass))

typedef struct _PlankApplicationDockItem PlankApplicationDockItem;
typedef struct _PlankApplicationDockItemClass PlankApplicationDockItemClass;

#define PLANK_TYPE_TRANSIENT_DOCK_ITEM (plank_transient_dock_item_get_type ())
#define PLANK_TRANSIENT_DOCK_ITEM(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), PLANK_TYPE_TRANSIENT_DOCK_ITEM, PlankTransientDockItem))
#define PLANK_TRANSIENT_DOCK_ITEM_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), PLANK_TYPE_TRANSIENT_DOCK_ITEM, PlankTransientDockItemClass))
#define PLANK_IS_TRANSIENT_DOCK_ITEM(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), PLANK_TYPE_TRANSIENT_DOCK_ITEM))
#define PLANK_IS_TRANSIENT_DOCK_ITEM_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), PLANK_TYPE_TRANSIENT_DOCK_ITEM))
#define PLANK_TRANSIENT_DOCK_ITEM_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), PLANK_TYPE_TRANSIENT_DOCK_ITEM, PlankTransientDockItemClass))

typedef struct _PlankTransientDockItem PlankTransientDockItem;
typedef struct _PlankTransientDockItemClass PlankTransientDockItemClass;
#define _g_free0(var) (var = (g_free (var), NULL))

#define PLANK_TYPE_ITEM_FACTORY (plank_item_factory_get_type ())
#define PLANK_ITEM_FACTORY(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), PLANK_TYPE_ITEM_FACTORY, PlankItemFactory))
#define PLANK_ITEM_FACTORY_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), PLANK_TYPE_ITEM_FACTORY, PlankItemFactoryClass))
#define PLANK_IS_ITEM_FACTORY(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), PLANK_TYPE_ITEM_FACTORY))
#define PLANK_IS_ITEM_FACTORY_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), PLANK_TYPE_ITEM_FACTORY))
#define PLANK_ITEM_FACTORY_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), PLANK_TYPE_ITEM_FACTORY, PlankItemFactoryClass))

typedef struct _PlankItemFactory PlankItemFactory;
typedef struct _PlankItemFactoryClass PlankItemFactoryClass;

struct _PlankDockElement {
	GObject parent_instance;
	PlankDockElementPrivate * priv;
};

struct _PlankDockElementClass {
	GObjectClass parent_class;
	PlankAnimationType (*on_clicked) (PlankDockElement* self, PlankPopupButton button, GdkModifierType mod, guint32 event_time);
	PlankAnimationType (*on_hovered) (PlankDockElement* self);
	PlankAnimationType (*on_scrolled) (PlankDockElement* self, GdkScrollDirection direction, GdkModifierType mod, guint32 event_time);
	GeeArrayList* (*get_menu_items) (PlankDockElement* self);
	gchar* (*get_drop_text) (PlankDockElement* self);
	gboolean (*can_be_removed) (PlankDockElement* self);
	gboolean (*can_accept_drop) (PlankDockElement* self, GeeArrayList* uris);
	gboolean (*accept_drop) (PlankDockElement* self, GeeArrayList* uris);
	gchar* (*unique_id) (PlankDockElement* self);
	void (*reset_buffers) (PlankDockElement* self);
};

struct _PlankDockContainer {
	PlankDockElement parent_instance;
	PlankDockContainerPrivate * priv;
	GeeArrayList* visible_elements;
	GeeArrayList* internal_elements;
};

struct _PlankDockContainerClass {
	PlankDockElementClass parent_class;
	void (*prepare) (PlankDockContainer* self);
	void (*update_visible_elements) (PlankDockContainer* self);
	gboolean (*move_to) (PlankDockContainer* self, PlankDockElement* move, PlankDockElement* target);
	gboolean (*replace) (PlankDockContainer* self, PlankDockElement* new_element, PlankDockElement* old_element);
	void (*connect_element) (PlankDockContainer* self, PlankDockElement* element);
	void (*disconnect_element) (PlankDockContainer* self, PlankDockElement* element);
};

struct _PlankDockItemProvider {
	PlankDockContainer parent_instance;
	PlankDockItemProviderPrivate * priv;
};

struct _PlankDockItemProviderClass {
	PlankDockContainerClass parent_class;
	gboolean (*item_exists_for_uri) (PlankDockItemProvider* self, const gchar* uri);
	PlankDockItem* (*item_for_uri) (PlankDockItemProvider* self, const gchar* uri);
	gboolean (*add_item_with_uri) (PlankDockItemProvider* self, const gchar* uri, PlankDockItem* target);
	void (*handle_item_deleted) (PlankDockItemProvider* self, PlankDockItem* item);
	gchar** (*get_dockitem_filenames) (PlankDockItemProvider* self, gint* result_length1);
};

struct _PlankUnityClientIface {
	GTypeInterface parent_iface;
	void (*update_launcher_entry) (PlankUnityClient* self, const gchar* sender_name, GVariant* parameters, gboolean is_retry);
	void (*remove_launcher_entry) (PlankUnityClient* self, const gchar* sender_name);
};

struct _PlankApplicationDockItemProvider {
	PlankDockItemProvider parent_instance;
	PlankApplicationDockItemProviderPrivate * priv;
};

struct _PlankApplicationDockItemProviderClass {
	PlankDockItemProviderClass parent_class;
	void (*app_opened) (PlankApplicationDockItemProvider* self, BamfApplication* app);
};

struct _PlankDefaultApplicationDockItemProvider {
	PlankApplicationDockItemProvider parent_instance;
	PlankDefaultApplicationDockItemProviderPrivate * priv;
};

struct _PlankDefaultApplicationDockItemProviderClass {
	PlankApplicationDockItemProviderClass parent_class;
};

struct _PlankDefaultApplicationDockItemProviderPrivate {
	PlankDockPreferences* _Prefs;
	gboolean current_workspace_only;
};

static gint PlankDefaultApplicationDockItemProvider_private_offset;
static gpointer plank_default_application_dock_item_provider_parent_class = NULL;
extern PlankItemFactory* plank_factory_item_factory;

GType plank_dock_element_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (PlankDockElement, g_object_unref)
GType plank_popup_button_get_type (void) G_GNUC_CONST;
GType plank_animation_type_get_type (void) G_GNUC_CONST;
GType plank_dock_container_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (PlankDockContainer, g_object_unref)
GType plank_dock_item_provider_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (PlankDockItemProvider, g_object_unref)
GType plank_dock_item_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (PlankDockItem, g_object_unref)
GType plank_unity_client_get_type (void) G_GNUC_CONST;
GType plank_application_dock_item_provider_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (PlankApplicationDockItemProvider, g_object_unref)
GType plank_default_application_dock_item_provider_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (PlankDefaultApplicationDockItemProvider, g_object_unref)
GType plank_settings_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (PlankSettings, g_object_unref)
GType plank_dock_preferences_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (PlankDockPreferences, g_object_unref)
void plank_dock_container_update_visible_elements (PlankDockContainer* self);
void plank_dock_container_prepare (PlankDockContainer* self);
void plank_application_dock_item_provider_app_opened (PlankApplicationDockItemProvider* self,
                                                      BamfApplication* app);
void plank_dock_container_connect_element (PlankDockContainer* self,
                                           PlankDockElement* element);
void plank_dock_container_disconnect_element (PlankDockContainer* self,
                                              PlankDockElement* element);
void plank_dock_item_provider_handle_item_deleted (PlankDockItemProvider* self,
                                                   PlankDockItem* item);
PlankDockPreferences* plank_default_application_dock_item_provider_get_Prefs (PlankDefaultApplicationDockItemProvider* self);
static void plank_default_application_dock_item_provider_handle_setting_changed (PlankDefaultApplicationDockItemProvider* self);
static void _plank_default_application_dock_item_provider_handle_setting_changed_g_object_notify (GObject* _sender,
                                                                                           GParamSpec* pspec,
                                                                                           gpointer self);
static void plank_default_application_dock_item_provider_handle_pinned_only_changed (PlankDefaultApplicationDockItemProvider* self);
static void _plank_default_application_dock_item_provider_handle_pinned_only_changed_g_object_notify (GObject* _sender,
                                                                                               GParamSpec* pspec,
                                                                                               gpointer self);
static void plank_default_application_dock_item_provider_disconnect_wnck (PlankDefaultApplicationDockItemProvider* self);
PlankDefaultApplicationDockItemProvider* plank_default_application_dock_item_provider_new (PlankDockPreferences* prefs,
                                                                                           GFile* launchers_dir);
PlankDefaultApplicationDockItemProvider* plank_default_application_dock_item_provider_construct (GType object_type,
                                                                                                 PlankDockPreferences* prefs,
                                                                                                 GFile* launchers_dir);
static void plank_default_application_dock_item_provider_real_update_visible_elements (PlankDockContainer* base);
void plank_logger_verbose (const gchar* msg,
                           ...);
gboolean plank_dock_preferences_get_CurrentWorkspaceOnly (PlankDockPreferences* self);
GType plank_application_dock_item_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (PlankApplicationDockItem, g_object_unref)
GType plank_transient_dock_item_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (PlankTransientDockItem, g_object_unref)
G_GNUC_INTERNAL BamfApplication* plank_application_dock_item_get_App (PlankApplicationDockItem* self);
void plank_dock_element_set_IsAttached (PlankDockElement* self,
                                        gboolean value);
static void plank_default_application_dock_item_provider_real_prepare (PlankDockContainer* base);
gboolean plank_dock_preferences_get_PinnedOnly (PlankDockPreferences* self);
static void plank_default_application_dock_item_provider_add_transient_items (PlankDefaultApplicationDockItemProvider* self);
const gchar* plank_dock_item_get_Launcher (PlankDockItem* self);
static void plank_default_application_dock_item_provider_real_app_opened (PlankApplicationDockItemProvider* base,
                                                                   BamfApplication* app);
PlankApplicationDockItem* plank_application_dock_item_provider_item_for_application (PlankApplicationDockItemProvider* self,
                                                                                     BamfApplication* app);
G_GNUC_INTERNAL void plank_application_dock_item_set_App (PlankApplicationDockItem* self,
                                          BamfApplication* value);
G_GNUC_INTERNAL PlankTransientDockItem* plank_transient_dock_item_new_with_application (BamfApplication* app);
G_GNUC_INTERNAL PlankTransientDockItem* plank_transient_dock_item_construct_with_application (GType object_type,
                                                                              BamfApplication* app);
gboolean plank_dock_container_add (PlankDockContainer* self,
                                   PlankDockElement* element,
                                   PlankDockElement* target);
static void plank_default_application_dock_item_provider_app_closed (PlankDefaultApplicationDockItemProvider* self,
                                                              PlankDockItem* item);
gboolean plank_application_dock_item_has_unity_info (PlankApplicationDockItem* self);
gboolean plank_dock_container_remove (PlankDockContainer* self,
                                      PlankDockElement* element);
static void plank_default_application_dock_item_provider_connect_wnck (PlankDefaultApplicationDockItemProvider* self);
static void plank_default_application_dock_item_provider_handle_window_changed (WnckScreen* screen,
                                                                         WnckWindow* previous,
                                                                         PlankDefaultApplicationDockItemProvider* self);
static void _plank_default_application_dock_item_provider_handle_window_changed_wnck_screen_active_window_changed (WnckScreen* _sender,
                                                                                                            WnckWindow* previous_window,
                                                                                                            gpointer self);
static void plank_default_application_dock_item_provider_handle_workspace_changed (WnckScreen* screen,
                                                                            WnckWorkspace* previous,
                                                                            PlankDefaultApplicationDockItemProvider* self);
static void _plank_default_application_dock_item_provider_handle_workspace_changed_wnck_screen_active_workspace_changed (WnckScreen* _sender,
                                                                                                                  WnckWorkspace* previous_workspace,
                                                                                                                  gpointer self);
static void plank_default_application_dock_item_provider_handle_viewports_changed (WnckScreen* screen,
                                                                            PlankDefaultApplicationDockItemProvider* self);
static void _plank_default_application_dock_item_provider_handle_viewports_changed_wnck_screen_viewports_changed (WnckScreen* _sender,
                                                                                                           gpointer self);
static void plank_default_application_dock_item_provider_remove_transient_items (PlankDefaultApplicationDockItemProvider* self);
gboolean plank_dock_container_add_all (PlankDockContainer* self,
                                       GeeArrayList* elements);
gboolean plank_dock_container_remove_all (PlankDockContainer* self,
                                          GeeArrayList* elements);
static void plank_default_application_dock_item_provider_real_connect_element (PlankDockContainer* base,
                                                                        PlankDockElement* element);
static void _plank_default_application_dock_item_provider_app_closed_plank_application_dock_item_app_closed (PlankApplicationDockItem* _sender,
                                                                                                      gpointer self);
void plank_default_application_dock_item_provider_pin_item (PlankDefaultApplicationDockItemProvider* self,
                                                            PlankDockItem* item);
static void _plank_default_application_dock_item_provider_pin_item_plank_application_dock_item_pin_launcher (PlankApplicationDockItem* _sender,
                                                                                                      gpointer self);
static void plank_default_application_dock_item_provider_real_disconnect_element (PlankDockContainer* base,
                                                                           PlankDockElement* element);
static void plank_default_application_dock_item_provider_real_handle_item_deleted (PlankDockItemProvider* base,
                                                                            PlankDockItem* item);
void plank_dock_item_copy_values_to (PlankDockItem* self,
                                     PlankDockItem* target);
gboolean plank_dock_container_replace (PlankDockContainer* self,
                                       PlankDockElement* new_element,
                                       PlankDockElement* old_element);
const gchar* plank_dock_element_get_Text (PlankDockElement* self);
gchar* plank_dock_item_get_DockItemFilename (PlankDockItem* self);
void plank_application_dock_item_provider_delay_items_monitor (PlankApplicationDockItemProvider* self);
GType plank_item_factory_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (PlankItemFactory, g_object_unref)
GFile* plank_item_factory_make_dock_item (PlankItemFactory* self,
                                          const gchar* uri,
                                          GFile* target_dir);
GFile* plank_application_dock_item_provider_get_LaunchersDir (PlankApplicationDockItemProvider* self);
PlankApplicationDockItem* plank_application_dock_item_new_with_dockitem_file (GFile* file);
PlankApplicationDockItem* plank_application_dock_item_construct_with_dockitem_file (GType object_type,
                                                                                    GFile* file);
gboolean plank_application_dock_item_is_running (PlankApplicationDockItem* self);
void plank_dock_item_delete (PlankDockItem* self);
void plank_application_dock_item_provider_resume_items_monitor (PlankApplicationDockItemProvider* self);
static void plank_default_application_dock_item_provider_set_Prefs (PlankDefaultApplicationDockItemProvider* self,
                                                             PlankDockPreferences* value);
static GObject * plank_default_application_dock_item_provider_constructor (GType type,
                                                                    guint n_construct_properties,
                                                                    GObjectConstructParam * construct_properties);
static void plank_default_application_dock_item_provider_finalize (GObject * obj);
static GType plank_default_application_dock_item_provider_get_type_once (void);
static void _vala_plank_default_application_dock_item_provider_get_property (GObject * object,
                                                                      guint property_id,
                                                                      GValue * value,
                                                                      GParamSpec * pspec);
static void _vala_plank_default_application_dock_item_provider_set_property (GObject * object,
                                                                      guint property_id,
                                                                      const GValue * value,
                                                                      GParamSpec * pspec);

static inline gpointer
plank_default_application_dock_item_provider_get_instance_private (PlankDefaultApplicationDockItemProvider* self)
{
	return G_STRUCT_MEMBER_P (self, PlankDefaultApplicationDockItemProvider_private_offset);
}

static void
_plank_default_application_dock_item_provider_handle_setting_changed_g_object_notify (GObject* _sender,
                                                                                      GParamSpec* pspec,
                                                                                      gpointer self)
{
#line 54 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	plank_default_application_dock_item_provider_handle_setting_changed ((PlankDefaultApplicationDockItemProvider*) self);
#line 426 "DefaultApplicationDockItemProvider.c"
}

static void
_plank_default_application_dock_item_provider_handle_pinned_only_changed_g_object_notify (GObject* _sender,
                                                                                          GParamSpec* pspec,
                                                                                          gpointer self)
{
#line 55 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	plank_default_application_dock_item_provider_handle_pinned_only_changed ((PlankDefaultApplicationDockItemProvider*) self);
#line 436 "DefaultApplicationDockItemProvider.c"
}

/**
 * Creates the default container for dock items.
 *
 * @param prefs the preferences of the dock which owns this provider
 */
PlankDefaultApplicationDockItemProvider*
plank_default_application_dock_item_provider_construct (GType object_type,
                                                        PlankDockPreferences* prefs,
                                                        GFile* launchers_dir)
{
	PlankDefaultApplicationDockItemProvider * self = NULL;
#line 36 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	g_return_val_if_fail (prefs != NULL, NULL);
#line 36 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	g_return_val_if_fail (launchers_dir != NULL, NULL);
#line 38 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	self = (PlankDefaultApplicationDockItemProvider*) g_object_new (object_type, "Prefs", prefs, "LaunchersDir", launchers_dir, NULL);
#line 36 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	return self;
#line 458 "DefaultApplicationDockItemProvider.c"
}

PlankDefaultApplicationDockItemProvider*
plank_default_application_dock_item_provider_new (PlankDockPreferences* prefs,
                                                  GFile* launchers_dir)
{
#line 36 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	return plank_default_application_dock_item_provider_construct (PLANK_TYPE_DEFAULT_APPLICATION_DOCK_ITEM_PROVIDER, prefs, launchers_dir);
#line 467 "DefaultApplicationDockItemProvider.c"
}

static gpointer
_g_object_ref0 (gpointer self)
{
#line 67 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	return self ? g_object_ref (self) : NULL;
#line 475 "DefaultApplicationDockItemProvider.c"
}

static void
plank_default_application_dock_item_provider_real_update_visible_elements (PlankDockContainer* base)
{
	PlankDefaultApplicationDockItemProvider * self;
	PlankDockPreferences* _tmp0_;
	gboolean _tmp1_;
	gboolean _tmp2_;
#line 61 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	self = (PlankDefaultApplicationDockItemProvider*) base;
#line 63 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	plank_logger_verbose ("DefaultDockItemProvider.update_visible_items ()", NULL);
#line 65 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp0_ = self->priv->_Prefs;
#line 65 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp1_ = plank_dock_preferences_get_CurrentWorkspaceOnly (_tmp0_);
#line 65 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp2_ = _tmp1_;
#line 65 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	if (_tmp2_) {
#line 497 "DefaultApplicationDockItemProvider.c"
		WnckWorkspace* active_workspace = NULL;
		WnckScreen* _tmp3_;
		WnckWorkspace* _tmp4_;
#line 66 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp3_ = wnck_screen_get_default ();
#line 66 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp4_ = wnck_screen_get_active_workspace (_tmp3_);
#line 66 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		active_workspace = _tmp4_;
#line 507 "DefaultApplicationDockItemProvider.c"
		{
			GeeArrayList* _item_list = NULL;
			GeeArrayList* _tmp5_;
			GeeArrayList* _tmp6_;
			gint _item_size = 0;
			GeeArrayList* _tmp7_;
			gint _tmp8_;
			gint _tmp9_;
			gint _item_index = 0;
#line 67 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_tmp5_ = ((PlankDockContainer*) self)->internal_elements;
#line 67 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_tmp6_ = _g_object_ref0 (_tmp5_);
#line 67 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_item_list = _tmp6_;
#line 67 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_tmp7_ = _item_list;
#line 67 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_tmp8_ = gee_abstract_collection_get_size ((GeeAbstractCollection*) _tmp7_);
#line 67 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_tmp9_ = _tmp8_;
#line 67 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_item_size = _tmp9_;
#line 67 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_item_index = -1;
#line 67 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			while (TRUE) {
#line 535 "DefaultApplicationDockItemProvider.c"
				gint _tmp10_;
				gint _tmp11_;
				PlankDockElement* item = NULL;
				GeeArrayList* _tmp12_;
				gpointer _tmp13_;
				PlankTransientDockItem* transient = NULL;
				PlankDockElement* _tmp14_;
				gboolean _tmp15_ = FALSE;
				gboolean _tmp16_ = FALSE;
				gboolean _tmp17_ = FALSE;
				PlankTransientDockItem* _tmp18_;
				PlankDockElement* _tmp27_;
#line 67 "../lib/Items/DefaultApplicationDockItemProvider.vala"
				_item_index = _item_index + 1;
#line 67 "../lib/Items/DefaultApplicationDockItemProvider.vala"
				_tmp10_ = _item_index;
#line 67 "../lib/Items/DefaultApplicationDockItemProvider.vala"
				_tmp11_ = _item_size;
#line 67 "../lib/Items/DefaultApplicationDockItemProvider.vala"
				if (!(_tmp10_ < _tmp11_)) {
#line 67 "../lib/Items/DefaultApplicationDockItemProvider.vala"
					break;
#line 558 "DefaultApplicationDockItemProvider.c"
				}
#line 67 "../lib/Items/DefaultApplicationDockItemProvider.vala"
				_tmp12_ = _item_list;
#line 67 "../lib/Items/DefaultApplicationDockItemProvider.vala"
				_tmp13_ = gee_abstract_list_get ((GeeAbstractList*) _tmp12_, _item_index);
#line 67 "../lib/Items/DefaultApplicationDockItemProvider.vala"
				item = (PlankDockElement*) _tmp13_;
#line 68 "../lib/Items/DefaultApplicationDockItemProvider.vala"
				_tmp14_ = item;
#line 68 "../lib/Items/DefaultApplicationDockItemProvider.vala"
				transient = PLANK_IS_TRANSIENT_DOCK_ITEM (_tmp14_) ? ((PlankTransientDockItem*) _tmp14_) : NULL;
#line 69 "../lib/Items/DefaultApplicationDockItemProvider.vala"
				_tmp18_ = transient;
#line 69 "../lib/Items/DefaultApplicationDockItemProvider.vala"
				if (_tmp18_ == NULL) {
#line 69 "../lib/Items/DefaultApplicationDockItemProvider.vala"
					_tmp17_ = TRUE;
#line 576 "DefaultApplicationDockItemProvider.c"
				} else {
					PlankTransientDockItem* _tmp19_;
					BamfApplication* _tmp20_;
					BamfApplication* _tmp21_;
#line 69 "../lib/Items/DefaultApplicationDockItemProvider.vala"
					_tmp19_ = transient;
#line 69 "../lib/Items/DefaultApplicationDockItemProvider.vala"
					_tmp20_ = plank_application_dock_item_get_App ((PlankApplicationDockItem*) _tmp19_);
#line 69 "../lib/Items/DefaultApplicationDockItemProvider.vala"
					_tmp21_ = _tmp20_;
#line 69 "../lib/Items/DefaultApplicationDockItemProvider.vala"
					_tmp17_ = _tmp21_ == NULL;
#line 589 "DefaultApplicationDockItemProvider.c"
				}
#line 69 "../lib/Items/DefaultApplicationDockItemProvider.vala"
				if (_tmp17_) {
#line 69 "../lib/Items/DefaultApplicationDockItemProvider.vala"
					_tmp16_ = TRUE;
#line 595 "DefaultApplicationDockItemProvider.c"
				} else {
					WnckWorkspace* _tmp22_;
#line 69 "../lib/Items/DefaultApplicationDockItemProvider.vala"
					_tmp22_ = active_workspace;
#line 69 "../lib/Items/DefaultApplicationDockItemProvider.vala"
					_tmp16_ = _tmp22_ == NULL;
#line 602 "DefaultApplicationDockItemProvider.c"
				}
#line 69 "../lib/Items/DefaultApplicationDockItemProvider.vala"
				if (_tmp16_) {
#line 69 "../lib/Items/DefaultApplicationDockItemProvider.vala"
					_tmp15_ = TRUE;
#line 608 "DefaultApplicationDockItemProvider.c"
				} else {
					PlankTransientDockItem* _tmp23_;
					BamfApplication* _tmp24_;
					BamfApplication* _tmp25_;
					WnckWorkspace* _tmp26_;
#line 70 "../lib/Items/DefaultApplicationDockItemProvider.vala"
					_tmp23_ = transient;
#line 70 "../lib/Items/DefaultApplicationDockItemProvider.vala"
					_tmp24_ = plank_application_dock_item_get_App ((PlankApplicationDockItem*) _tmp23_);
#line 70 "../lib/Items/DefaultApplicationDockItemProvider.vala"
					_tmp25_ = _tmp24_;
#line 70 "../lib/Items/DefaultApplicationDockItemProvider.vala"
					_tmp26_ = active_workspace;
#line 70 "../lib/Items/DefaultApplicationDockItemProvider.vala"
					_tmp15_ = plank_window_control_has_window_on_workspace (_tmp25_, _tmp26_);
#line 624 "DefaultApplicationDockItemProvider.c"
				}
#line 69 "../lib/Items/DefaultApplicationDockItemProvider.vala"
				_tmp27_ = item;
#line 69 "../lib/Items/DefaultApplicationDockItemProvider.vala"
				plank_dock_element_set_IsAttached (_tmp27_, _tmp15_);
#line 67 "../lib/Items/DefaultApplicationDockItemProvider.vala"
				_g_object_unref0 (item);
#line 632 "DefaultApplicationDockItemProvider.c"
			}
#line 67 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_g_object_unref0 (_item_list);
#line 636 "DefaultApplicationDockItemProvider.c"
		}
	} else {
		{
			GeeArrayList* _item_list = NULL;
			GeeArrayList* _tmp28_;
			GeeArrayList* _tmp29_;
			gint _item_size = 0;
			GeeArrayList* _tmp30_;
			gint _tmp31_;
			gint _tmp32_;
			gint _item_index = 0;
#line 73 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_tmp28_ = ((PlankDockContainer*) self)->internal_elements;
#line 73 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_tmp29_ = _g_object_ref0 (_tmp28_);
#line 73 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_item_list = _tmp29_;
#line 73 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_tmp30_ = _item_list;
#line 73 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_tmp31_ = gee_abstract_collection_get_size ((GeeAbstractCollection*) _tmp30_);
#line 73 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_tmp32_ = _tmp31_;
#line 73 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_item_size = _tmp32_;
#line 73 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_item_index = -1;
#line 73 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			while (TRUE) {
#line 666 "DefaultApplicationDockItemProvider.c"
				gint _tmp33_;
				gint _tmp34_;
				PlankDockElement* item = NULL;
				GeeArrayList* _tmp35_;
				gpointer _tmp36_;
				PlankDockElement* _tmp37_;
#line 73 "../lib/Items/DefaultApplicationDockItemProvider.vala"
				_item_index = _item_index + 1;
#line 73 "../lib/Items/DefaultApplicationDockItemProvider.vala"
				_tmp33_ = _item_index;
#line 73 "../lib/Items/DefaultApplicationDockItemProvider.vala"
				_tmp34_ = _item_size;
#line 73 "../lib/Items/DefaultApplicationDockItemProvider.vala"
				if (!(_tmp33_ < _tmp34_)) {
#line 73 "../lib/Items/DefaultApplicationDockItemProvider.vala"
					break;
#line 683 "DefaultApplicationDockItemProvider.c"
				}
#line 73 "../lib/Items/DefaultApplicationDockItemProvider.vala"
				_tmp35_ = _item_list;
#line 73 "../lib/Items/DefaultApplicationDockItemProvider.vala"
				_tmp36_ = gee_abstract_list_get ((GeeAbstractList*) _tmp35_, _item_index);
#line 73 "../lib/Items/DefaultApplicationDockItemProvider.vala"
				item = (PlankDockElement*) _tmp36_;
#line 74 "../lib/Items/DefaultApplicationDockItemProvider.vala"
				_tmp37_ = item;
#line 74 "../lib/Items/DefaultApplicationDockItemProvider.vala"
				plank_dock_element_set_IsAttached (_tmp37_, TRUE);
#line 73 "../lib/Items/DefaultApplicationDockItemProvider.vala"
				_g_object_unref0 (item);
#line 697 "DefaultApplicationDockItemProvider.c"
			}
#line 73 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_g_object_unref0 (_item_list);
#line 701 "DefaultApplicationDockItemProvider.c"
		}
	}
#line 77 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	PLANK_DOCK_CONTAINER_CLASS (plank_default_application_dock_item_provider_parent_class)->update_visible_elements ((PlankDockContainer*) G_TYPE_CHECK_INSTANCE_CAST (self, PLANK_TYPE_APPLICATION_DOCK_ITEM_PROVIDER, PlankApplicationDockItemProvider));
#line 706 "DefaultApplicationDockItemProvider.c"
}

/**
 * {@inheritDoc}
 */
static void
plank_default_application_dock_item_provider_real_prepare (PlankDockContainer* base)
{
	PlankDefaultApplicationDockItemProvider * self;
	PlankDockPreferences* _tmp0_;
	gboolean _tmp1_;
	gboolean _tmp2_;
	GeeArrayList* favs = NULL;
	GeeArrayList* _tmp3_;
	PlankMatcher* _tmp21_;
	PlankMatcher* _tmp22_;
	GeeArrayList* _tmp23_;
#line 83 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	self = (PlankDefaultApplicationDockItemProvider*) base;
#line 85 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp0_ = self->priv->_Prefs;
#line 85 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp1_ = plank_dock_preferences_get_PinnedOnly (_tmp0_);
#line 85 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp2_ = _tmp1_;
#line 85 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	if (!_tmp2_) {
#line 86 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		plank_default_application_dock_item_provider_add_transient_items (self);
#line 736 "DefaultApplicationDockItemProvider.c"
	}
#line 88 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp3_ = gee_array_list_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, (GDestroyNotify) g_free, NULL, NULL, NULL);
#line 88 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	favs = _tmp3_;
#line 742 "DefaultApplicationDockItemProvider.c"
	{
		GeeArrayList* _element_list = NULL;
		GeeArrayList* _tmp4_;
		GeeArrayList* _tmp5_;
		gint _element_size = 0;
		GeeArrayList* _tmp6_;
		gint _tmp7_;
		gint _tmp8_;
		gint _element_index = 0;
#line 90 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp4_ = ((PlankDockContainer*) self)->internal_elements;
#line 90 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp5_ = _g_object_ref0 (_tmp4_);
#line 90 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_element_list = _tmp5_;
#line 90 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp6_ = _element_list;
#line 90 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp7_ = gee_abstract_collection_get_size ((GeeAbstractCollection*) _tmp6_);
#line 90 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp8_ = _tmp7_;
#line 90 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_element_size = _tmp8_;
#line 90 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_element_index = -1;
#line 90 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		while (TRUE) {
#line 770 "DefaultApplicationDockItemProvider.c"
			gint _tmp9_;
			gint _tmp10_;
			PlankDockElement* element = NULL;
			GeeArrayList* _tmp11_;
			gpointer _tmp12_;
			PlankApplicationDockItem* item = NULL;
			PlankDockElement* _tmp13_;
			gboolean _tmp14_ = FALSE;
			PlankApplicationDockItem* _tmp15_;
#line 90 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_element_index = _element_index + 1;
#line 90 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_tmp9_ = _element_index;
#line 90 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_tmp10_ = _element_size;
#line 90 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			if (!(_tmp9_ < _tmp10_)) {
#line 90 "../lib/Items/DefaultApplicationDockItemProvider.vala"
				break;
#line 790 "DefaultApplicationDockItemProvider.c"
			}
#line 90 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_tmp11_ = _element_list;
#line 90 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_tmp12_ = gee_abstract_list_get ((GeeAbstractList*) _tmp11_, _element_index);
#line 90 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			element = (PlankDockElement*) _tmp12_;
#line 91 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_tmp13_ = element;
#line 91 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			item = PLANK_IS_APPLICATION_DOCK_ITEM (_tmp13_) ? ((PlankApplicationDockItem*) _tmp13_) : NULL;
#line 92 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_tmp15_ = item;
#line 92 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			if (_tmp15_ != NULL) {
#line 806 "DefaultApplicationDockItemProvider.c"
				PlankApplicationDockItem* _tmp16_;
#line 92 "../lib/Items/DefaultApplicationDockItemProvider.vala"
				_tmp16_ = item;
#line 92 "../lib/Items/DefaultApplicationDockItemProvider.vala"
				_tmp14_ = !PLANK_IS_TRANSIENT_DOCK_ITEM (_tmp16_);
#line 812 "DefaultApplicationDockItemProvider.c"
			} else {
#line 92 "../lib/Items/DefaultApplicationDockItemProvider.vala"
				_tmp14_ = FALSE;
#line 816 "DefaultApplicationDockItemProvider.c"
			}
#line 92 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			if (_tmp14_) {
#line 820 "DefaultApplicationDockItemProvider.c"
				GeeArrayList* _tmp17_;
				PlankApplicationDockItem* _tmp18_;
				const gchar* _tmp19_;
				const gchar* _tmp20_;
#line 93 "../lib/Items/DefaultApplicationDockItemProvider.vala"
				_tmp17_ = favs;
#line 93 "../lib/Items/DefaultApplicationDockItemProvider.vala"
				_tmp18_ = item;
#line 93 "../lib/Items/DefaultApplicationDockItemProvider.vala"
				_tmp19_ = plank_dock_item_get_Launcher ((PlankDockItem*) _tmp18_);
#line 93 "../lib/Items/DefaultApplicationDockItemProvider.vala"
				_tmp20_ = _tmp19_;
#line 93 "../lib/Items/DefaultApplicationDockItemProvider.vala"
				gee_abstract_collection_add ((GeeAbstractCollection*) _tmp17_, _tmp20_);
#line 835 "DefaultApplicationDockItemProvider.c"
			}
#line 90 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_g_object_unref0 (element);
#line 839 "DefaultApplicationDockItemProvider.c"
		}
#line 90 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_g_object_unref0 (_element_list);
#line 843 "DefaultApplicationDockItemProvider.c"
	}
#line 96 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp21_ = plank_matcher_get_default ();
#line 96 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp22_ = _tmp21_;
#line 96 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp23_ = favs;
#line 96 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	plank_matcher_set_favorites (_tmp22_, _tmp23_);
#line 96 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_g_object_unref0 (_tmp22_);
#line 83 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_g_object_unref0 (favs);
#line 857 "DefaultApplicationDockItemProvider.c"
}

static void
plank_default_application_dock_item_provider_real_app_opened (PlankApplicationDockItemProvider* base,
                                                              BamfApplication* app)
{
	PlankDefaultApplicationDockItemProvider * self;
	PlankApplicationDockItem* found = NULL;
	PlankApplicationDockItem* _tmp0_;
	PlankApplicationDockItem* _tmp1_;
	PlankDockPreferences* _tmp3_;
	gboolean _tmp4_;
	gboolean _tmp5_;
	PlankTransientDockItem* new_item = NULL;
	PlankTransientDockItem* _tmp6_;
	PlankTransientDockItem* _tmp7_;
#line 99 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	self = (PlankDefaultApplicationDockItemProvider*) base;
#line 99 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	g_return_if_fail (app != NULL);
#line 101 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp0_ = plank_application_dock_item_provider_item_for_application ((PlankApplicationDockItemProvider*) self, app);
#line 101 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	found = _tmp0_;
#line 102 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp1_ = found;
#line 102 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	if (_tmp1_ != NULL) {
#line 886 "DefaultApplicationDockItemProvider.c"
		PlankApplicationDockItem* _tmp2_;
#line 103 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp2_ = found;
#line 103 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		plank_application_dock_item_set_App (_tmp2_, app);
#line 104 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		return;
#line 894 "DefaultApplicationDockItemProvider.c"
	}
#line 107 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp3_ = self->priv->_Prefs;
#line 107 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp4_ = plank_dock_preferences_get_PinnedOnly (_tmp3_);
#line 107 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp5_ = _tmp4_;
#line 107 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	if (_tmp5_) {
#line 108 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		return;
#line 906 "DefaultApplicationDockItemProvider.c"
	}
#line 110 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp6_ = plank_transient_dock_item_new_with_application (app);
#line 110 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	new_item = _tmp6_;
#line 112 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp7_ = new_item;
#line 112 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	plank_dock_container_add ((PlankDockContainer*) self, (PlankDockElement*) _tmp7_, NULL);
#line 99 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_g_object_unref0 (new_item);
#line 918 "DefaultApplicationDockItemProvider.c"
}

static void
plank_default_application_dock_item_provider_app_closed (PlankDefaultApplicationDockItemProvider* self,
                                                         PlankDockItem* item)
{
	gboolean _tmp0_ = FALSE;
#line 115 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	g_return_if_fail (self != NULL);
#line 115 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	g_return_if_fail (item != NULL);
#line 117 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	if (PLANK_IS_TRANSIENT_DOCK_ITEM (item)) {
#line 118 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp0_ = !plank_application_dock_item_has_unity_info ((PlankApplicationDockItem*) G_TYPE_CHECK_INSTANCE_CAST (item, PLANK_TYPE_TRANSIENT_DOCK_ITEM, PlankTransientDockItem));
#line 934 "DefaultApplicationDockItemProvider.c"
	} else {
#line 117 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp0_ = FALSE;
#line 938 "DefaultApplicationDockItemProvider.c"
	}
#line 117 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	if (_tmp0_) {
#line 119 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		plank_dock_container_remove ((PlankDockContainer*) self, (PlankDockElement*) item);
#line 944 "DefaultApplicationDockItemProvider.c"
	}
}

static void
_plank_default_application_dock_item_provider_handle_window_changed_wnck_screen_active_window_changed (WnckScreen* _sender,
                                                                                                       WnckWindow* previous_window,
                                                                                                       gpointer self)
{
#line 126 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	plank_default_application_dock_item_provider_handle_window_changed (_sender, previous_window, (PlankDefaultApplicationDockItemProvider*) self);
#line 955 "DefaultApplicationDockItemProvider.c"
}

static void
_plank_default_application_dock_item_provider_handle_workspace_changed_wnck_screen_active_workspace_changed (WnckScreen* _sender,
                                                                                                             WnckWorkspace* previous_workspace,
                                                                                                             gpointer self)
{
#line 127 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	plank_default_application_dock_item_provider_handle_workspace_changed (_sender, previous_workspace, (PlankDefaultApplicationDockItemProvider*) self);
#line 965 "DefaultApplicationDockItemProvider.c"
}

static void
_plank_default_application_dock_item_provider_handle_viewports_changed_wnck_screen_viewports_changed (WnckScreen* _sender,
                                                                                                      gpointer self)
{
#line 128 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	plank_default_application_dock_item_provider_handle_viewports_changed (_sender, (PlankDefaultApplicationDockItemProvider*) self);
#line 974 "DefaultApplicationDockItemProvider.c"
}

static void
plank_default_application_dock_item_provider_connect_wnck (PlankDefaultApplicationDockItemProvider* self)
{
	WnckScreen* screen = NULL;
	WnckScreen* _tmp0_;
#line 122 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	g_return_if_fail (self != NULL);
#line 124 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp0_ = wnck_screen_get_default ();
#line 124 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	screen = _tmp0_;
#line 126 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	g_signal_connect_object (screen, "active-window-changed", (GCallback) _plank_default_application_dock_item_provider_handle_window_changed_wnck_screen_active_window_changed, self, G_CONNECT_AFTER);
#line 127 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	g_signal_connect_object (screen, "active-workspace-changed", (GCallback) _plank_default_application_dock_item_provider_handle_workspace_changed_wnck_screen_active_workspace_changed, self, G_CONNECT_AFTER);
#line 128 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	g_signal_connect_object (screen, "viewports-changed", (GCallback) _plank_default_application_dock_item_provider_handle_viewports_changed_wnck_screen_viewports_changed, self, G_CONNECT_AFTER);
#line 994 "DefaultApplicationDockItemProvider.c"
}

static void
plank_default_application_dock_item_provider_disconnect_wnck (PlankDefaultApplicationDockItemProvider* self)
{
	WnckScreen* screen = NULL;
	WnckScreen* _tmp0_;
	guint _tmp1_;
	guint _tmp2_;
	guint _tmp3_;
#line 131 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	g_return_if_fail (self != NULL);
#line 133 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp0_ = wnck_screen_get_default ();
#line 133 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	screen = _tmp0_;
#line 135 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	g_signal_parse_name ("active-window-changed", wnck_screen_get_type (), &_tmp1_, NULL, FALSE);
#line 135 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	g_signal_handlers_disconnect_matched (screen, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp1_, 0, NULL, (GCallback) _plank_default_application_dock_item_provider_handle_window_changed_wnck_screen_active_window_changed, self);
#line 136 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	g_signal_parse_name ("active-workspace-changed", wnck_screen_get_type (), &_tmp2_, NULL, FALSE);
#line 136 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	g_signal_handlers_disconnect_matched (screen, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp2_, 0, NULL, (GCallback) _plank_default_application_dock_item_provider_handle_workspace_changed_wnck_screen_active_workspace_changed, self);
#line 137 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	g_signal_parse_name ("viewports-changed", wnck_screen_get_type (), &_tmp3_, NULL, FALSE);
#line 137 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	g_signal_handlers_disconnect_matched (screen, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp3_, 0, NULL, (GCallback) _plank_default_application_dock_item_provider_handle_viewports_changed_wnck_screen_viewports_changed, self);
#line 1023 "DefaultApplicationDockItemProvider.c"
}

static void
plank_default_application_dock_item_provider_handle_window_changed (WnckScreen* screen,
                                                                    WnckWindow* previous,
                                                                    PlankDefaultApplicationDockItemProvider* self)
{
	WnckWorkspace* active_workspace = NULL;
	WnckWorkspace* _tmp0_;
	gboolean _tmp1_ = FALSE;
	gboolean _tmp2_ = FALSE;
#line 141 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	g_return_if_fail (self != NULL);
#line 141 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	g_return_if_fail (screen != NULL);
#line 143 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp0_ = wnck_screen_get_active_workspace (screen);
#line 143 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	active_workspace = _tmp0_;
#line 144 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	if (previous == NULL) {
#line 144 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp2_ = TRUE;
#line 1047 "DefaultApplicationDockItemProvider.c"
	} else {
		WnckWorkspace* _tmp3_;
#line 144 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp3_ = active_workspace;
#line 144 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp2_ = _tmp3_ == NULL;
#line 1054 "DefaultApplicationDockItemProvider.c"
	}
#line 144 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	if (_tmp2_) {
#line 144 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp1_ = TRUE;
#line 1060 "DefaultApplicationDockItemProvider.c"
	} else {
		WnckWorkspace* _tmp4_;
		WnckWorkspace* _tmp5_;
#line 145 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp4_ = wnck_window_get_workspace (previous);
#line 145 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp5_ = active_workspace;
#line 145 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp1_ = _tmp4_ == _tmp5_;
#line 1070 "DefaultApplicationDockItemProvider.c"
	}
#line 144 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	if (_tmp1_) {
#line 146 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		return;
#line 1076 "DefaultApplicationDockItemProvider.c"
	}
#line 148 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	plank_dock_container_update_visible_elements ((PlankDockContainer*) self);
#line 1080 "DefaultApplicationDockItemProvider.c"
}

static void
plank_default_application_dock_item_provider_handle_workspace_changed (WnckScreen* screen,
                                                                       WnckWorkspace* previous,
                                                                       PlankDefaultApplicationDockItemProvider* self)
{
	WnckWorkspace* active_workspace = NULL;
	WnckWorkspace* _tmp0_;
	gboolean _tmp1_ = FALSE;
	WnckWorkspace* _tmp2_;
#line 152 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	g_return_if_fail (self != NULL);
#line 152 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	g_return_if_fail (screen != NULL);
#line 154 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp0_ = wnck_screen_get_active_workspace (screen);
#line 154 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	active_workspace = _tmp0_;
#line 155 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp2_ = active_workspace;
#line 155 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	if (_tmp2_ != NULL) {
#line 1104 "DefaultApplicationDockItemProvider.c"
		WnckWorkspace* _tmp3_;
#line 155 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp3_ = active_workspace;
#line 155 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp1_ = wnck_workspace_is_virtual (_tmp3_);
#line 1110 "DefaultApplicationDockItemProvider.c"
	} else {
#line 155 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp1_ = FALSE;
#line 1114 "DefaultApplicationDockItemProvider.c"
	}
#line 155 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	if (_tmp1_) {
#line 156 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		return;
#line 1120 "DefaultApplicationDockItemProvider.c"
	}
#line 158 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	plank_dock_container_update_visible_elements ((PlankDockContainer*) self);
#line 1124 "DefaultApplicationDockItemProvider.c"
}

static void
plank_default_application_dock_item_provider_handle_viewports_changed (WnckScreen* screen,
                                                                       PlankDefaultApplicationDockItemProvider* self)
{
	WnckWorkspace* active_workspace = NULL;
	WnckWorkspace* _tmp0_;
	gboolean _tmp1_ = FALSE;
	WnckWorkspace* _tmp2_;
#line 162 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	g_return_if_fail (self != NULL);
#line 162 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	g_return_if_fail (screen != NULL);
#line 164 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp0_ = wnck_screen_get_active_workspace (screen);
#line 164 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	active_workspace = _tmp0_;
#line 165 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp2_ = active_workspace;
#line 165 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	if (_tmp2_ != NULL) {
#line 1147 "DefaultApplicationDockItemProvider.c"
		WnckWorkspace* _tmp3_;
#line 165 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp3_ = active_workspace;
#line 165 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp1_ = !wnck_workspace_is_virtual (_tmp3_);
#line 1153 "DefaultApplicationDockItemProvider.c"
	} else {
#line 165 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp1_ = FALSE;
#line 1157 "DefaultApplicationDockItemProvider.c"
	}
#line 165 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	if (_tmp1_) {
#line 166 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		return;
#line 1163 "DefaultApplicationDockItemProvider.c"
	}
#line 168 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	plank_dock_container_update_visible_elements ((PlankDockContainer*) self);
#line 1167 "DefaultApplicationDockItemProvider.c"
}

static void
plank_default_application_dock_item_provider_handle_setting_changed (PlankDefaultApplicationDockItemProvider* self)
{
	PlankDockPreferences* _tmp0_;
	gboolean _tmp1_;
	gboolean _tmp2_;
	PlankDockPreferences* _tmp3_;
	gboolean _tmp4_;
	gboolean _tmp5_;
#line 171 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	g_return_if_fail (self != NULL);
#line 173 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp0_ = self->priv->_Prefs;
#line 173 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp1_ = plank_dock_preferences_get_CurrentWorkspaceOnly (_tmp0_);
#line 173 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp2_ = _tmp1_;
#line 173 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	if (self->priv->current_workspace_only == _tmp2_) {
#line 174 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		return;
#line 1191 "DefaultApplicationDockItemProvider.c"
	}
#line 176 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp3_ = self->priv->_Prefs;
#line 176 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp4_ = plank_dock_preferences_get_CurrentWorkspaceOnly (_tmp3_);
#line 176 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp5_ = _tmp4_;
#line 176 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	self->priv->current_workspace_only = _tmp5_;
#line 178 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	if (self->priv->current_workspace_only) {
#line 179 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		plank_default_application_dock_item_provider_connect_wnck (self);
#line 1205 "DefaultApplicationDockItemProvider.c"
	} else {
#line 181 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		plank_default_application_dock_item_provider_disconnect_wnck (self);
#line 1209 "DefaultApplicationDockItemProvider.c"
	}
#line 183 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	plank_dock_container_update_visible_elements ((PlankDockContainer*) self);
#line 1213 "DefaultApplicationDockItemProvider.c"
}

static void
plank_default_application_dock_item_provider_handle_pinned_only_changed (PlankDefaultApplicationDockItemProvider* self)
{
	PlankDockPreferences* _tmp0_;
	gboolean _tmp1_;
	gboolean _tmp2_;
#line 186 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	g_return_if_fail (self != NULL);
#line 188 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp0_ = self->priv->_Prefs;
#line 188 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp1_ = plank_dock_preferences_get_PinnedOnly (_tmp0_);
#line 188 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp2_ = _tmp1_;
#line 188 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	if (_tmp2_) {
#line 189 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		plank_default_application_dock_item_provider_remove_transient_items (self);
#line 1234 "DefaultApplicationDockItemProvider.c"
	} else {
#line 191 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		plank_default_application_dock_item_provider_add_transient_items (self);
#line 1238 "DefaultApplicationDockItemProvider.c"
	}
}

static void
plank_default_application_dock_item_provider_add_transient_items (PlankDefaultApplicationDockItemProvider* self)
{
	GeeArrayList* transient_items = NULL;
	GeeArrayList* _tmp0_;
	GeeArrayList* _tmp22_;
#line 194 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	g_return_if_fail (self != NULL);
#line 196 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp0_ = gee_array_list_new (PLANK_TYPE_DOCK_ELEMENT, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL);
#line 196 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	transient_items = _tmp0_;
#line 1254 "DefaultApplicationDockItemProvider.c"
	{
		GeeArrayList* _app_list = NULL;
		PlankMatcher* _tmp1_;
		PlankMatcher* _tmp2_;
		GeeArrayList* _tmp3_;
		GeeArrayList* _tmp4_;
		gint _app_size = 0;
		GeeArrayList* _tmp5_;
		gint _tmp6_;
		gint _tmp7_;
		gint _app_index = 0;
#line 199 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp1_ = plank_matcher_get_default ();
#line 199 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp2_ = _tmp1_;
#line 199 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp3_ = plank_matcher_active_launchers (_tmp2_);
#line 199 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp4_ = _tmp3_;
#line 199 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_g_object_unref0 (_tmp2_);
#line 199 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_app_list = _tmp4_;
#line 199 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp5_ = _app_list;
#line 199 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp6_ = gee_abstract_collection_get_size ((GeeAbstractCollection*) _tmp5_);
#line 199 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp7_ = _tmp6_;
#line 199 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_app_size = _tmp7_;
#line 199 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_app_index = -1;
#line 199 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		while (TRUE) {
#line 1290 "DefaultApplicationDockItemProvider.c"
			gint _tmp8_;
			gint _tmp9_;
			BamfApplication* app = NULL;
			GeeArrayList* _tmp10_;
			gpointer _tmp11_;
			PlankApplicationDockItem* found = NULL;
			BamfApplication* _tmp12_;
			PlankApplicationDockItem* _tmp13_;
			PlankApplicationDockItem* _tmp14_;
			BamfApplication* _tmp17_;
			GeeArrayList* _tmp18_;
			BamfApplication* _tmp19_;
			PlankTransientDockItem* _tmp20_;
			PlankTransientDockItem* _tmp21_;
#line 199 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_app_index = _app_index + 1;
#line 199 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_tmp8_ = _app_index;
#line 199 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_tmp9_ = _app_size;
#line 199 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			if (!(_tmp8_ < _tmp9_)) {
#line 199 "../lib/Items/DefaultApplicationDockItemProvider.vala"
				break;
#line 1315 "DefaultApplicationDockItemProvider.c"
			}
#line 199 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_tmp10_ = _app_list;
#line 199 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_tmp11_ = gee_abstract_list_get ((GeeAbstractList*) _tmp10_, _app_index);
#line 199 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			app = (BamfApplication*) _tmp11_;
#line 200 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_tmp12_ = app;
#line 200 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_tmp13_ = plank_application_dock_item_provider_item_for_application ((PlankApplicationDockItemProvider*) self, _tmp12_);
#line 200 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			found = _tmp13_;
#line 201 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_tmp14_ = found;
#line 201 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			if (_tmp14_ != NULL) {
#line 1333 "DefaultApplicationDockItemProvider.c"
				PlankApplicationDockItem* _tmp15_;
				BamfApplication* _tmp16_;
#line 202 "../lib/Items/DefaultApplicationDockItemProvider.vala"
				_tmp15_ = found;
#line 202 "../lib/Items/DefaultApplicationDockItemProvider.vala"
				_tmp16_ = app;
#line 202 "../lib/Items/DefaultApplicationDockItemProvider.vala"
				plank_application_dock_item_set_App (_tmp15_, _tmp16_);
#line 203 "../lib/Items/DefaultApplicationDockItemProvider.vala"
				_g_object_unref0 (app);
#line 203 "../lib/Items/DefaultApplicationDockItemProvider.vala"
				continue;
#line 1346 "DefaultApplicationDockItemProvider.c"
			}
#line 206 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_tmp17_ = app;
#line 206 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			if (!bamf_view_is_user_visible ((BamfView*) _tmp17_)) {
#line 207 "../lib/Items/DefaultApplicationDockItemProvider.vala"
				_g_object_unref0 (app);
#line 207 "../lib/Items/DefaultApplicationDockItemProvider.vala"
				continue;
#line 1356 "DefaultApplicationDockItemProvider.c"
			}
#line 209 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_tmp18_ = transient_items;
#line 209 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_tmp19_ = app;
#line 209 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_tmp20_ = plank_transient_dock_item_new_with_application (_tmp19_);
#line 209 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_tmp21_ = _tmp20_;
#line 209 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp18_, (PlankDockElement*) _tmp21_);
#line 209 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_g_object_unref0 (_tmp21_);
#line 199 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_g_object_unref0 (app);
#line 1372 "DefaultApplicationDockItemProvider.c"
		}
#line 199 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_g_object_unref0 (_app_list);
#line 1376 "DefaultApplicationDockItemProvider.c"
	}
#line 212 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp22_ = transient_items;
#line 212 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	plank_dock_container_add_all ((PlankDockContainer*) self, _tmp22_);
#line 194 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_g_object_unref0 (transient_items);
#line 1384 "DefaultApplicationDockItemProvider.c"
}

static void
plank_default_application_dock_item_provider_remove_transient_items (PlankDefaultApplicationDockItemProvider* self)
{
	GeeArrayList* transient_items = NULL;
	GeeArrayList* _tmp0_;
	GeeArrayList* _tmp13_;
#line 215 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	g_return_if_fail (self != NULL);
#line 217 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp0_ = gee_array_list_new (PLANK_TYPE_DOCK_ELEMENT, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL);
#line 217 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	transient_items = _tmp0_;
#line 1399 "DefaultApplicationDockItemProvider.c"
	{
		GeeArrayList* _element_list = NULL;
		GeeArrayList* _tmp1_;
		GeeArrayList* _tmp2_;
		gint _element_size = 0;
		GeeArrayList* _tmp3_;
		gint _tmp4_;
		gint _tmp5_;
		gint _element_index = 0;
#line 219 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp1_ = ((PlankDockContainer*) self)->internal_elements;
#line 219 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp2_ = _g_object_ref0 (_tmp1_);
#line 219 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_element_list = _tmp2_;
#line 219 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp3_ = _element_list;
#line 219 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp4_ = gee_abstract_collection_get_size ((GeeAbstractCollection*) _tmp3_);
#line 219 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp5_ = _tmp4_;
#line 219 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_element_size = _tmp5_;
#line 219 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_element_index = -1;
#line 219 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		while (TRUE) {
#line 1427 "DefaultApplicationDockItemProvider.c"
			gint _tmp6_;
			gint _tmp7_;
			PlankDockElement* element = NULL;
			GeeArrayList* _tmp8_;
			gpointer _tmp9_;
			PlankDockElement* _tmp10_;
#line 219 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_element_index = _element_index + 1;
#line 219 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_tmp6_ = _element_index;
#line 219 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_tmp7_ = _element_size;
#line 219 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			if (!(_tmp6_ < _tmp7_)) {
#line 219 "../lib/Items/DefaultApplicationDockItemProvider.vala"
				break;
#line 1444 "DefaultApplicationDockItemProvider.c"
			}
#line 219 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_tmp8_ = _element_list;
#line 219 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_tmp9_ = gee_abstract_list_get ((GeeAbstractList*) _tmp8_, _element_index);
#line 219 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			element = (PlankDockElement*) _tmp9_;
#line 220 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_tmp10_ = element;
#line 220 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			if (PLANK_IS_TRANSIENT_DOCK_ITEM (_tmp10_)) {
#line 1456 "DefaultApplicationDockItemProvider.c"
				GeeArrayList* _tmp11_;
				PlankDockElement* _tmp12_;
#line 221 "../lib/Items/DefaultApplicationDockItemProvider.vala"
				_tmp11_ = transient_items;
#line 221 "../lib/Items/DefaultApplicationDockItemProvider.vala"
				_tmp12_ = element;
#line 221 "../lib/Items/DefaultApplicationDockItemProvider.vala"
				gee_abstract_collection_add ((GeeAbstractCollection*) _tmp11_, _tmp12_);
#line 1465 "DefaultApplicationDockItemProvider.c"
			}
#line 219 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_g_object_unref0 (element);
#line 1469 "DefaultApplicationDockItemProvider.c"
		}
#line 219 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_g_object_unref0 (_element_list);
#line 1473 "DefaultApplicationDockItemProvider.c"
	}
#line 224 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp13_ = transient_items;
#line 224 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	plank_dock_container_remove_all ((PlankDockContainer*) self, _tmp13_);
#line 215 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_g_object_unref0 (transient_items);
#line 1481 "DefaultApplicationDockItemProvider.c"
}

static void
_plank_default_application_dock_item_provider_app_closed_plank_application_dock_item_app_closed (PlankApplicationDockItem* _sender,
                                                                                                 gpointer self)
{
#line 233 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	plank_default_application_dock_item_provider_app_closed ((PlankDefaultApplicationDockItemProvider*) self, _sender);
#line 1490 "DefaultApplicationDockItemProvider.c"
}

static void
_plank_default_application_dock_item_provider_pin_item_plank_application_dock_item_pin_launcher (PlankApplicationDockItem* _sender,
                                                                                                 gpointer self)
{
#line 234 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	plank_default_application_dock_item_provider_pin_item ((PlankDefaultApplicationDockItemProvider*) self, _sender);
#line 1499 "DefaultApplicationDockItemProvider.c"
}

static void
plank_default_application_dock_item_provider_real_connect_element (PlankDockContainer* base,
                                                                   PlankDockElement* element)
{
	PlankDefaultApplicationDockItemProvider * self;
	PlankApplicationDockItem* appitem = NULL;
	PlankApplicationDockItem* _tmp0_;
#line 227 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	self = (PlankDefaultApplicationDockItemProvider*) base;
#line 227 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	g_return_if_fail (element != NULL);
#line 229 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	PLANK_DOCK_CONTAINER_CLASS (plank_default_application_dock_item_provider_parent_class)->connect_element ((PlankDockContainer*) G_TYPE_CHECK_INSTANCE_CAST (self, PLANK_TYPE_APPLICATION_DOCK_ITEM_PROVIDER, PlankApplicationDockItemProvider), element);
#line 231 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	appitem = PLANK_IS_APPLICATION_DOCK_ITEM (element) ? ((PlankApplicationDockItem*) element) : NULL;
#line 232 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp0_ = appitem;
#line 232 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	if (_tmp0_ != NULL) {
#line 1521 "DefaultApplicationDockItemProvider.c"
		PlankApplicationDockItem* _tmp1_;
		PlankApplicationDockItem* _tmp2_;
#line 233 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp1_ = appitem;
#line 233 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		g_signal_connect_object (_tmp1_, "app-closed", (GCallback) _plank_default_application_dock_item_provider_app_closed_plank_application_dock_item_app_closed, self, 0);
#line 234 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp2_ = appitem;
#line 234 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		g_signal_connect_object (_tmp2_, "pin-launcher", (GCallback) _plank_default_application_dock_item_provider_pin_item_plank_application_dock_item_pin_launcher, self, 0);
#line 1532 "DefaultApplicationDockItemProvider.c"
	}
}

static void
plank_default_application_dock_item_provider_real_disconnect_element (PlankDockContainer* base,
                                                                      PlankDockElement* element)
{
	PlankDefaultApplicationDockItemProvider * self;
	PlankApplicationDockItem* appitem = NULL;
	PlankApplicationDockItem* _tmp0_;
#line 238 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	self = (PlankDefaultApplicationDockItemProvider*) base;
#line 238 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	g_return_if_fail (element != NULL);
#line 240 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	PLANK_DOCK_CONTAINER_CLASS (plank_default_application_dock_item_provider_parent_class)->disconnect_element ((PlankDockContainer*) G_TYPE_CHECK_INSTANCE_CAST (self, PLANK_TYPE_APPLICATION_DOCK_ITEM_PROVIDER, PlankApplicationDockItemProvider), element);
#line 242 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	appitem = PLANK_IS_APPLICATION_DOCK_ITEM (element) ? ((PlankApplicationDockItem*) element) : NULL;
#line 243 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp0_ = appitem;
#line 243 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	if (_tmp0_ != NULL) {
#line 1555 "DefaultApplicationDockItemProvider.c"
		PlankApplicationDockItem* _tmp1_;
		guint _tmp2_;
		PlankApplicationDockItem* _tmp3_;
		guint _tmp4_;
#line 244 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp1_ = appitem;
#line 244 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		g_signal_parse_name ("app-closed", PLANK_TYPE_APPLICATION_DOCK_ITEM, &_tmp2_, NULL, FALSE);
#line 244 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		g_signal_handlers_disconnect_matched (_tmp1_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp2_, 0, NULL, (GCallback) _plank_default_application_dock_item_provider_app_closed_plank_application_dock_item_app_closed, self);
#line 245 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp3_ = appitem;
#line 245 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		g_signal_parse_name ("pin-launcher", PLANK_TYPE_APPLICATION_DOCK_ITEM, &_tmp4_, NULL, FALSE);
#line 245 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		g_signal_handlers_disconnect_matched (_tmp3_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp4_, 0, NULL, (GCallback) _plank_default_application_dock_item_provider_pin_item_plank_application_dock_item_pin_launcher, self);
#line 1572 "DefaultApplicationDockItemProvider.c"
	}
}

static void
plank_default_application_dock_item_provider_real_handle_item_deleted (PlankDockItemProvider* base,
                                                                       PlankDockItem* item)
{
	PlankDefaultApplicationDockItemProvider * self;
	BamfApplication* app = NULL;
	gboolean _tmp2_ = FALSE;
	gboolean _tmp3_ = FALSE;
	BamfApplication* _tmp4_;
	PlankTransientDockItem* new_item = NULL;
	BamfApplication* _tmp9_;
	PlankTransientDockItem* _tmp10_;
	PlankTransientDockItem* _tmp11_;
	PlankTransientDockItem* _tmp12_;
#line 249 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	self = (PlankDefaultApplicationDockItemProvider*) base;
#line 249 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	g_return_if_fail (item != NULL);
#line 251 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	app = NULL;
#line 252 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	if (PLANK_IS_APPLICATION_DOCK_ITEM (item)) {
#line 1598 "DefaultApplicationDockItemProvider.c"
		BamfApplication* _tmp0_;
		BamfApplication* _tmp1_;
#line 253 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp0_ = plank_application_dock_item_get_App (G_TYPE_CHECK_INSTANCE_CAST (item, PLANK_TYPE_APPLICATION_DOCK_ITEM, PlankApplicationDockItem));
#line 253 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp1_ = _tmp0_;
#line 253 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		app = _tmp1_;
#line 1607 "DefaultApplicationDockItemProvider.c"
	}
#line 255 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp4_ = app;
#line 255 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	if (_tmp4_ == NULL) {
#line 255 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp3_ = TRUE;
#line 1615 "DefaultApplicationDockItemProvider.c"
	} else {
		BamfApplication* _tmp5_;
#line 255 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp5_ = app;
#line 255 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp3_ = !bamf_view_is_running ((BamfView*) _tmp5_);
#line 1622 "DefaultApplicationDockItemProvider.c"
	}
#line 255 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	if (_tmp3_) {
#line 255 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp2_ = TRUE;
#line 1628 "DefaultApplicationDockItemProvider.c"
	} else {
		PlankDockPreferences* _tmp6_;
		gboolean _tmp7_;
		gboolean _tmp8_;
#line 255 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp6_ = self->priv->_Prefs;
#line 255 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp7_ = plank_dock_preferences_get_PinnedOnly (_tmp6_);
#line 255 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp8_ = _tmp7_;
#line 255 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp2_ = _tmp8_;
#line 1641 "DefaultApplicationDockItemProvider.c"
	}
#line 255 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	if (_tmp2_) {
#line 256 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		plank_dock_container_remove ((PlankDockContainer*) self, (PlankDockElement*) item);
#line 257 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		return;
#line 1649 "DefaultApplicationDockItemProvider.c"
	}
#line 260 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp9_ = app;
#line 260 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp10_ = plank_transient_dock_item_new_with_application (_tmp9_);
#line 260 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	new_item = _tmp10_;
#line 261 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp11_ = new_item;
#line 261 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	plank_dock_item_copy_values_to (item, (PlankDockItem*) _tmp11_);
#line 263 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp12_ = new_item;
#line 263 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	plank_dock_container_replace ((PlankDockContainer*) self, (PlankDockElement*) _tmp12_, (PlankDockElement*) item);
#line 249 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_g_object_unref0 (new_item);
#line 1667 "DefaultApplicationDockItemProvider.c"
}

void
plank_default_application_dock_item_provider_pin_item (PlankDefaultApplicationDockItemProvider* self,
                                                       PlankDockItem* item)
{
	GeeArrayList* _tmp0_;
	const gchar* _tmp3_;
	const gchar* _tmp4_;
	gchar* _tmp5_;
	gchar* _tmp6_;
	gchar* _tmp7_;
	PlankApplicationDockItem* app_item = NULL;
	PlankApplicationDockItem* _tmp8_;
#line 266 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	g_return_if_fail (self != NULL);
#line 266 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	g_return_if_fail (item != NULL);
#line 268 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp0_ = ((PlankDockContainer*) self)->internal_elements;
#line 268 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	if (!gee_abstract_collection_contains ((GeeAbstractCollection*) _tmp0_, (PlankDockElement*) item)) {
#line 1690 "DefaultApplicationDockItemProvider.c"
		const gchar* _tmp1_;
		const gchar* _tmp2_;
#line 269 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp1_ = plank_dock_element_get_Text ((PlankDockElement*) item);
#line 269 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp2_ = _tmp1_;
#line 269 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		g_critical ("DefaultApplicationDockItemProvider.vala:269: Item '%s' does not exist " \
"in this DockItemProvider.", _tmp2_);
#line 270 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		return;
#line 1701 "DefaultApplicationDockItemProvider.c"
	}
#line 273 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp3_ = plank_dock_element_get_Text ((PlankDockElement*) item);
#line 273 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp4_ = _tmp3_;
#line 273 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp5_ = plank_dock_item_get_DockItemFilename (item);
#line 273 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp6_ = _tmp5_;
#line 273 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp7_ = _tmp6_;
#line 273 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	plank_logger_verbose ("DefaultDockItemProvider.pin_item ('%s[%s]')", _tmp4_, _tmp7_, NULL);
#line 273 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_g_free0 (_tmp7_);
#line 275 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	app_item = PLANK_IS_APPLICATION_DOCK_ITEM (item) ? ((PlankApplicationDockItem*) item) : NULL;
#line 276 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp8_ = app_item;
#line 276 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	if (_tmp8_ == NULL) {
#line 277 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		return;
#line 1725 "DefaultApplicationDockItemProvider.c"
	}
#line 280 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	plank_application_dock_item_provider_delay_items_monitor ((PlankApplicationDockItemProvider*) self);
#line 282 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	if (PLANK_IS_TRANSIENT_DOCK_ITEM (item)) {
#line 1731 "DefaultApplicationDockItemProvider.c"
		GFile* dockitem_file = NULL;
		PlankItemFactory* _tmp9_;
		const gchar* _tmp10_;
		const gchar* _tmp11_;
		GFile* _tmp12_;
		GFile* _tmp13_;
		GFile* _tmp14_;
		GFile* _tmp15_;
		PlankApplicationDockItem* new_item = NULL;
		GFile* _tmp16_;
		PlankApplicationDockItem* _tmp17_;
		PlankApplicationDockItem* _tmp18_;
		PlankApplicationDockItem* _tmp19_;
#line 283 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp9_ = plank_factory_item_factory;
#line 283 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp10_ = plank_dock_item_get_Launcher (item);
#line 283 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp11_ = _tmp10_;
#line 283 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp12_ = plank_application_dock_item_provider_get_LaunchersDir ((PlankApplicationDockItemProvider*) self);
#line 283 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp13_ = _tmp12_;
#line 283 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp14_ = plank_item_factory_make_dock_item (_tmp9_, _tmp11_, _tmp13_);
#line 283 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		dockitem_file = _tmp14_;
#line 284 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp15_ = dockitem_file;
#line 284 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		if (_tmp15_ == NULL) {
#line 285 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_g_object_unref0 (dockitem_file);
#line 285 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			return;
#line 1767 "DefaultApplicationDockItemProvider.c"
		}
#line 287 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp16_ = dockitem_file;
#line 287 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp17_ = plank_application_dock_item_new_with_dockitem_file (_tmp16_);
#line 287 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		new_item = _tmp17_;
#line 288 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp18_ = new_item;
#line 288 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		plank_dock_item_copy_values_to (item, (PlankDockItem*) _tmp18_);
#line 290 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp19_ = new_item;
#line 290 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		plank_dock_container_replace ((PlankDockContainer*) self, (PlankDockElement*) _tmp19_, (PlankDockElement*) item);
#line 282 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_g_object_unref0 (new_item);
#line 282 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_g_object_unref0 (dockitem_file);
#line 1787 "DefaultApplicationDockItemProvider.c"
	} else {
		gboolean _tmp20_ = FALSE;
		PlankApplicationDockItem* _tmp21_;
#line 292 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp21_ = app_item;
#line 292 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		if (plank_application_dock_item_is_running (_tmp21_)) {
#line 292 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_tmp20_ = TRUE;
#line 1797 "DefaultApplicationDockItemProvider.c"
		} else {
			PlankApplicationDockItem* _tmp22_;
#line 292 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_tmp22_ = app_item;
#line 292 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			_tmp20_ = plank_application_dock_item_has_unity_info (_tmp22_);
#line 1804 "DefaultApplicationDockItemProvider.c"
		}
#line 292 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		if (!_tmp20_) {
#line 293 "../lib/Items/DefaultApplicationDockItemProvider.vala"
			plank_dock_container_remove ((PlankDockContainer*) self, (PlankDockElement*) item);
#line 1810 "DefaultApplicationDockItemProvider.c"
		}
#line 294 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		plank_dock_item_delete (item);
#line 1814 "DefaultApplicationDockItemProvider.c"
	}
#line 297 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	plank_application_dock_item_provider_resume_items_monitor ((PlankApplicationDockItemProvider*) self);
#line 1818 "DefaultApplicationDockItemProvider.c"
}

PlankDockPreferences*
plank_default_application_dock_item_provider_get_Prefs (PlankDefaultApplicationDockItemProvider* self)
{
	PlankDockPreferences* result;
	PlankDockPreferences* _tmp0_;
#line 27 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 27 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp0_ = self->priv->_Prefs;
#line 27 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	result = _tmp0_;
#line 27 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	return result;
#line 1834 "DefaultApplicationDockItemProvider.c"
}

static void
plank_default_application_dock_item_provider_set_Prefs (PlankDefaultApplicationDockItemProvider* self,
                                                        PlankDockPreferences* value)
{
	PlankDockPreferences* old_value;
#line 27 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	g_return_if_fail (self != NULL);
#line 27 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	old_value = plank_default_application_dock_item_provider_get_Prefs (self);
#line 27 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	if (old_value != value) {
#line 1848 "DefaultApplicationDockItemProvider.c"
		PlankDockPreferences* _tmp0_;
#line 27 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_tmp0_ = _g_object_ref0 (value);
#line 27 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		_g_object_unref0 (self->priv->_Prefs);
#line 27 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		self->priv->_Prefs = _tmp0_;
#line 27 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		g_object_notify_by_pspec ((GObject *) self, plank_default_application_dock_item_provider_properties[PLANK_DEFAULT_APPLICATION_DOCK_ITEM_PROVIDER_PREFS_PROPERTY]);
#line 1858 "DefaultApplicationDockItemProvider.c"
	}
}

static GObject *
plank_default_application_dock_item_provider_constructor (GType type,
                                                          guint n_construct_properties,
                                                          GObjectConstructParam * construct_properties)
{
	GObject * obj;
	GObjectClass * parent_class;
	PlankDefaultApplicationDockItemProvider * self;
	PlankDockPreferences* _tmp0_;
	PlankDockPreferences* _tmp1_;
	PlankDockPreferences* _tmp2_;
	gboolean _tmp3_;
	gboolean _tmp4_;
#line 41 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	parent_class = G_OBJECT_CLASS (plank_default_application_dock_item_provider_parent_class);
#line 41 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	obj = parent_class->constructor (type, n_construct_properties, construct_properties);
#line 41 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, PLANK_TYPE_DEFAULT_APPLICATION_DOCK_ITEM_PROVIDER, PlankDefaultApplicationDockItemProvider);
#line 43 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp0_ = self->priv->_Prefs;
#line 43 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	g_signal_connect_object ((GObject*) _tmp0_, "notify::CurrentWorkspaceOnly", (GCallback) _plank_default_application_dock_item_provider_handle_setting_changed_g_object_notify, self, 0);
#line 44 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp1_ = self->priv->_Prefs;
#line 44 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	g_signal_connect_object ((GObject*) _tmp1_, "notify::PinnedOnly", (GCallback) _plank_default_application_dock_item_provider_handle_pinned_only_changed_g_object_notify, self, 0);
#line 46 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp2_ = self->priv->_Prefs;
#line 46 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp3_ = plank_dock_preferences_get_CurrentWorkspaceOnly (_tmp2_);
#line 46 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp4_ = _tmp3_;
#line 46 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	self->priv->current_workspace_only = _tmp4_;
#line 48 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	if (self->priv->current_workspace_only) {
#line 49 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		plank_default_application_dock_item_provider_connect_wnck (self);
#line 1901 "DefaultApplicationDockItemProvider.c"
	}
#line 41 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	return obj;
#line 1905 "DefaultApplicationDockItemProvider.c"
}

static void
plank_default_application_dock_item_provider_class_init (PlankDefaultApplicationDockItemProviderClass * klass,
                                                         gpointer klass_data)
{
#line 25 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	plank_default_application_dock_item_provider_parent_class = g_type_class_peek_parent (klass);
#line 25 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	g_type_class_adjust_private_offset (klass, &PlankDefaultApplicationDockItemProvider_private_offset);
#line 25 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	((PlankDockContainerClass *) klass)->update_visible_elements = (void (*) (PlankDockContainer*)) plank_default_application_dock_item_provider_real_update_visible_elements;
#line 25 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	((PlankDockContainerClass *) klass)->prepare = (void (*) (PlankDockContainer*)) plank_default_application_dock_item_provider_real_prepare;
#line 25 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	((PlankApplicationDockItemProviderClass *) klass)->app_opened = (void (*) (PlankApplicationDockItemProvider*, BamfApplication*)) plank_default_application_dock_item_provider_real_app_opened;
#line 25 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	((PlankDockContainerClass *) klass)->connect_element = (void (*) (PlankDockContainer*, PlankDockElement*)) plank_default_application_dock_item_provider_real_connect_element;
#line 25 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	((PlankDockContainerClass *) klass)->disconnect_element = (void (*) (PlankDockContainer*, PlankDockElement*)) plank_default_application_dock_item_provider_real_disconnect_element;
#line 25 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	((PlankDockItemProviderClass *) klass)->handle_item_deleted = (void (*) (PlankDockItemProvider*, PlankDockItem*)) plank_default_application_dock_item_provider_real_handle_item_deleted;
#line 25 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	G_OBJECT_CLASS (klass)->get_property = _vala_plank_default_application_dock_item_provider_get_property;
#line 25 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	G_OBJECT_CLASS (klass)->set_property = _vala_plank_default_application_dock_item_provider_set_property;
#line 25 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	G_OBJECT_CLASS (klass)->constructor = plank_default_application_dock_item_provider_constructor;
#line 25 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	G_OBJECT_CLASS (klass)->finalize = plank_default_application_dock_item_provider_finalize;
#line 25 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), PLANK_DEFAULT_APPLICATION_DOCK_ITEM_PROVIDER_PREFS_PROPERTY, plank_default_application_dock_item_provider_properties[PLANK_DEFAULT_APPLICATION_DOCK_ITEM_PROVIDER_PREFS_PROPERTY] = g_param_spec_object ("Prefs", "Prefs", "Prefs", PLANK_TYPE_DOCK_PREFERENCES, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE | G_PARAM_CONSTRUCT_ONLY));
#line 1938 "DefaultApplicationDockItemProvider.c"
}

static void
plank_default_application_dock_item_provider_instance_init (PlankDefaultApplicationDockItemProvider * self,
                                                            gpointer klass)
{
#line 25 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	self->priv = plank_default_application_dock_item_provider_get_instance_private (self);
#line 1947 "DefaultApplicationDockItemProvider.c"
}

static void
plank_default_application_dock_item_provider_finalize (GObject * obj)
{
	PlankDefaultApplicationDockItemProvider * self;
	PlankDockPreferences* _tmp0_;
	guint _tmp1_;
	GQuark _tmp2_;
	PlankDockPreferences* _tmp3_;
	guint _tmp4_;
	GQuark _tmp5_;
#line 25 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, PLANK_TYPE_DEFAULT_APPLICATION_DOCK_ITEM_PROVIDER, PlankDefaultApplicationDockItemProvider);
#line 54 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp0_ = self->priv->_Prefs;
#line 54 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	g_signal_parse_name ("notify::CurrentWorkspaceOnly", G_TYPE_OBJECT, &_tmp1_, &_tmp2_, TRUE);
#line 54 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	g_signal_handlers_disconnect_matched ((GObject*) _tmp0_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_DETAIL | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp1_, _tmp2_, NULL, (GCallback) _plank_default_application_dock_item_provider_handle_setting_changed_g_object_notify, self);
#line 55 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_tmp3_ = self->priv->_Prefs;
#line 55 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	g_signal_parse_name ("notify::PinnedOnly", G_TYPE_OBJECT, &_tmp4_, &_tmp5_, TRUE);
#line 55 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	g_signal_handlers_disconnect_matched ((GObject*) _tmp3_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_DETAIL | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp4_, _tmp5_, NULL, (GCallback) _plank_default_application_dock_item_provider_handle_pinned_only_changed_g_object_notify, self);
#line 57 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	if (self->priv->current_workspace_only) {
#line 58 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		plank_default_application_dock_item_provider_disconnect_wnck (self);
#line 1978 "DefaultApplicationDockItemProvider.c"
	}
#line 27 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	_g_object_unref0 (self->priv->_Prefs);
#line 25 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	G_OBJECT_CLASS (plank_default_application_dock_item_provider_parent_class)->finalize (obj);
#line 1984 "DefaultApplicationDockItemProvider.c"
}

/**
 * The default container and controller class for managing application dock items on a dock.
 */
static GType
plank_default_application_dock_item_provider_get_type_once (void)
{
	static const GTypeInfo g_define_type_info = { sizeof (PlankDefaultApplicationDockItemProviderClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) plank_default_application_dock_item_provider_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (PlankDefaultApplicationDockItemProvider), 0, (GInstanceInitFunc) plank_default_application_dock_item_provider_instance_init, NULL };
	GType plank_default_application_dock_item_provider_type_id;
	plank_default_application_dock_item_provider_type_id = g_type_register_static (PLANK_TYPE_APPLICATION_DOCK_ITEM_PROVIDER, "PlankDefaultApplicationDockItemProvider", &g_define_type_info, 0);
	PlankDefaultApplicationDockItemProvider_private_offset = g_type_add_instance_private (plank_default_application_dock_item_provider_type_id, sizeof (PlankDefaultApplicationDockItemProviderPrivate));
	return plank_default_application_dock_item_provider_type_id;
}

GType
plank_default_application_dock_item_provider_get_type (void)
{
	static volatile gsize plank_default_application_dock_item_provider_type_id__volatile = 0;
	if (g_once_init_enter (&plank_default_application_dock_item_provider_type_id__volatile)) {
		GType plank_default_application_dock_item_provider_type_id;
		plank_default_application_dock_item_provider_type_id = plank_default_application_dock_item_provider_get_type_once ();
		g_once_init_leave (&plank_default_application_dock_item_provider_type_id__volatile, plank_default_application_dock_item_provider_type_id);
	}
	return plank_default_application_dock_item_provider_type_id__volatile;
}

static void
_vala_plank_default_application_dock_item_provider_get_property (GObject * object,
                                                                 guint property_id,
                                                                 GValue * value,
                                                                 GParamSpec * pspec)
{
	PlankDefaultApplicationDockItemProvider * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, PLANK_TYPE_DEFAULT_APPLICATION_DOCK_ITEM_PROVIDER, PlankDefaultApplicationDockItemProvider);
#line 25 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	switch (property_id) {
#line 25 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		case PLANK_DEFAULT_APPLICATION_DOCK_ITEM_PROVIDER_PREFS_PROPERTY:
#line 25 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		g_value_set_object (value, plank_default_application_dock_item_provider_get_Prefs (self));
#line 25 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		break;
#line 2028 "DefaultApplicationDockItemProvider.c"
		default:
#line 25 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 25 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		break;
#line 2034 "DefaultApplicationDockItemProvider.c"
	}
}

static void
_vala_plank_default_application_dock_item_provider_set_property (GObject * object,
                                                                 guint property_id,
                                                                 const GValue * value,
                                                                 GParamSpec * pspec)
{
	PlankDefaultApplicationDockItemProvider * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, PLANK_TYPE_DEFAULT_APPLICATION_DOCK_ITEM_PROVIDER, PlankDefaultApplicationDockItemProvider);
#line 25 "../lib/Items/DefaultApplicationDockItemProvider.vala"
	switch (property_id) {
#line 25 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		case PLANK_DEFAULT_APPLICATION_DOCK_ITEM_PROVIDER_PREFS_PROPERTY:
#line 25 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		plank_default_application_dock_item_provider_set_Prefs (self, g_value_get_object (value));
#line 25 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		break;
#line 2054 "DefaultApplicationDockItemProvider.c"
		default:
#line 25 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 25 "../lib/Items/DefaultApplicationDockItemProvider.vala"
		break;
#line 2060 "DefaultApplicationDockItemProvider.c"
	}
}

